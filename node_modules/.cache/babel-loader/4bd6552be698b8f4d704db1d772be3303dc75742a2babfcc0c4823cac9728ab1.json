{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/guild/workspace/nlr-12-java-purple-team-0/vue/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/guild/workspace/nlr-12-java-purple-team-0/vue/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.parse-int.js\";\nimport DoctorList from \"../components/DoctorList.vue\";\nimport PatientList from \"../components/PatientList.vue\";\nimport AdminView from \"../components/AdminView.vue\";\nimport Navbar from \"../components/Navbar.vue\";\nimport PatientService from \"@/services/PatientService\";\n// eslint-disable-next-line no-unused-vars\nimport doctorList from \"@/components/DoctorList.vue\";\nexport default {\n  name: \"home\",\n  components: {\n    DoctorList: DoctorList,\n    PatientList: PatientList,\n    AdminView: AdminView,\n    Navbar: Navbar\n  },\n  watch: {\n    getPatientId: {\n      handler: \"isPatient\",\n      immediate: true\n    }\n  },\n  methods: {\n    isPatient: function isPatient() {\n      var _this = this;\n      if (this.$store.state.user.authorities[0].name === \"ROLE_USER\") {\n        PatientService.getPatientByUserId(this.$store.state.user.id).then(function (response) {\n          _this.$store.commit(\"SET_PATIENT\", response.data);\n        });\n        PatientService.getCurrentPatientId(this.$store.state.user.id).then(\n        // eslint-disable-next-line no-unused-vars\n        function (response) {\n          _this.$store.commit(\"SET_PATIENT_ID\", _this.response);\n        });\n        console.log(\"Hello!\");\n        console.log(this.$store.state.patientId + \" it worked!\");\n      }\n    }\n  },\n  computed: {\n    getRoleAdmin: function getRoleAdmin() {\n      return this.$store.state.user.authorities[0].name === \"ROLE_ADMIN\";\n    },\n    getRolePatient: function getRolePatient() {\n      return this.$store.state.user.authorities[0].name === \"ROLE_USER\";\n    },\n    getRoleDoctor: function getRoleDoctor() {\n      return this.$store.state.user.authorities[0].name === \"ROLE_DOCTOR\";\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var currentPatientId;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(_this2.$store.state.user.authorities[0].name);\n              _context.next = 3;\n              return PatientService.getCurrentPatientId(_this2.$store.state.user.id);\n            case 3:\n              currentPatientId = _context.sent;\n              console.log(currentPatientId + \" method 2\");\n              _this2.$store.commit(\"SET_PATIENT_ID\", parseInt(currentPatientId));\n              console.log(_this2.$store.state.patientId, \" CHECKING PATIENT ID IN THE STORE\");\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  }\n};","map":{"version":3,"mappings":";;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAA;EACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MAAA;MACA;QACAC,kEACA;UACA;QACA,EACA;QACAA;QACA;QACA;UACA;QACA,EACA;QACAC;QACAA;MACA;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IAAA;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cACAL;cAAA;cAAA,OACAD;YAAA;cAAAO;cACAN;cACA;cACAA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EACA;AACA","names":["name","components","DoctorList","PatientList","AdminView","Navbar","watch","getPatientId","handler","immediate","methods","isPatient","PatientService","console","computed","getRoleAdmin","getRolePatient","getRoleDoctor","created","currentPatientId"],"sourceRoot":"src/views","sources":["Home.vue"],"sourcesContent":["<template>\n  <v-container>\n    <navbar />\n    <v-layout>\n      <admin-view v-if=\"getRoleAdmin\" />\n      <patient-list v-else-if=\"getRoleDoctor\" />\n      <doctor-list v-else />\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport DoctorList from \"../components/DoctorList.vue\";\nimport PatientList from \"../components/PatientList.vue\";\nimport AdminView from \"../components/AdminView.vue\";\nimport Navbar from \"../components/Navbar.vue\";\nimport PatientService from \"@/services/PatientService\";\n// eslint-disable-next-line no-unused-vars\nimport doctorList from \"@/components/DoctorList.vue\";\nexport default {\n  name: \"home\",\n  components: {\n    DoctorList,\n    PatientList,\n    AdminView,\n    Navbar,\n  },\n  watch: {\n    getPatientId: {\n      handler: \"isPatient\",\n      immediate: true,\n    },\n  },\n  methods: {\n    isPatient() {\n      if (this.$store.state.user.authorities[0].name === \"ROLE_USER\") {\n        PatientService.getPatientByUserId(this.$store.state.user.id).then(\n          (response) => {\n            this.$store.commit(\"SET_PATIENT\", response.data);\n          }\n        );\n        PatientService.getCurrentPatientId(this.$store.state.user.id).then(\n          // eslint-disable-next-line no-unused-vars\n          (response) => {\n            this.$store.commit(\"SET_PATIENT_ID\", this.response);\n          }\n        );\n        console.log(\"Hello!\");\n        console.log(this.$store.state.patientId + \" it worked!\");\n      }\n    },\n  },\n  computed: {\n    getRoleAdmin() {\n      return this.$store.state.user.authorities[0].name === \"ROLE_ADMIN\";\n    },\n    getRolePatient() {\n      return this.$store.state.user.authorities[0].name === \"ROLE_USER\";\n    },\n    getRoleDoctor() {\n      return this.$store.state.user.authorities[0].name === \"ROLE_DOCTOR\";\n    },\n  },\n  async created() {\n      console.log(this.$store.state.user.authorities[0].name);\n      const currentPatientId = await PatientService.getCurrentPatientId(this.$store.state.user.id);\n      console.log(currentPatientId + \" method 2\");\n      this.$store.commit(\"SET_PATIENT_ID\", parseInt(currentPatientId));\n      console.log(this.$store.state.patientId, \" CHECKING PATIENT ID IN THE STORE\");\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}