{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.parse-int.js\";\nimport DoctorList from '../components/DoctorList.vue';\nimport PatientList from '../components/PatientList.vue';\nimport AdminView from '../components/AdminView.vue';\nimport Navbar from '../components/Navbar.vue';\nimport PatientService from \"@/services/PatientService\";\n// eslint-disable-next-line no-unused-vars\nimport doctorList from \"@/components/DoctorList.vue\";\nexport default {\n  name: 'home',\n  components: {\n    DoctorList: DoctorList,\n    PatientList: PatientList,\n    AdminView: AdminView,\n    Navbar: Navbar\n  },\n  watch: {\n    getPatientId: {\n      handler: 'isPatient',\n      immediate: true\n    }\n  },\n  methods: {\n    isPatient: function isPatient() {\n      var _this = this;\n      if (this.$store.state.user.authorities[0].name === 'ROLE_USER') {\n        PatientService.getPatientByUserId(this.$store.state.user.id).then(function (response) {\n          _this.$store.commit(\"SET_PATIENT\", response.data);\n        });\n        PatientService.getCurrentPatientId(this.$store.state.user.id).then(function (response) {\n          _this.$store.commit(\"SET_PATIENT_ID\", parseInt(response.data.patientId));\n        });\n        console.log(\"Hello!\");\n        console.log(this.$store.state.patientId);\n      }\n    }\n  },\n  computed: {\n    getRoleAdmin: function getRoleAdmin() {\n      return this.$store.state.user.authorities[0].name === 'ROLE_ADMIN';\n    },\n    getRolePatient: function getRolePatient() {\n      return this.$store.state.user.authorities[0].name === 'ROLE_USER';\n    },\n    getRoleDoctor: function getRoleDoctor() {\n      return this.$store.state.user.authorities[0].name === 'ROLE_DOCTOR';\n    }\n  },\n  created: function created() {\n    console.log(this.$store.state.user.authorities[0].name);\n    var currentPatientId = PatientService.getCurrentPatientId(this.$store.state.user.id);\n    console.log(currentPatientId);\n  }\n};","map":{"version":3,"mappings":";;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAA;EACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MAAA;MACA;QACAC;UACA;QACA;QACAA;UACA;QACA;QACAC;QACAA;MACA;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACAL;IACA;IACAA;EACA;AACA","names":["name","components","DoctorList","PatientList","AdminView","Navbar","watch","getPatientId","handler","immediate","methods","isPatient","PatientService","console","computed","getRoleAdmin","getRolePatient","getRoleDoctor","created"],"sourceRoot":"src/views","sources":["Home.vue"],"sourcesContent":["<template>\n  <v-container>\n    <navbar />\n    <v-layout>\n      <admin-view v-if=\"getRoleAdmin\"  />\n      <patient-list v-else-if=\"getRoleDoctor\"/>\n      <doctor-list v-else />\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport DoctorList from '../components/DoctorList.vue'\nimport PatientList from '../components/PatientList.vue'\nimport AdminView from'../components/AdminView.vue'\nimport Navbar from '../components/Navbar.vue'\nimport PatientService from \"@/services/PatientService\";\n// eslint-disable-next-line no-unused-vars\nimport doctorList from \"@/components/DoctorList.vue\";\nexport default {\n  name: 'home',\n  components: {\n    DoctorList,\n    PatientList,\n    AdminView,\n    Navbar\n  },\n    watch: {\n      getPatientId: {\n          handler: 'isPatient',\n          immediate: true\n      }\n    },\n    methods: {\n        isPatient() {\n            if (this.$store.state.user.authorities[0].name === 'ROLE_USER') {\n                PatientService.getPatientByUserId(this.$store.state.user.id).then(response => {\n                    this.$store.commit(\"SET_PATIENT\", response.data);\n                })\n                PatientService.getCurrentPatientId(this.$store.state.user.id).then(response => {\n                    this.$store.commit( \"SET_PATIENT_ID\", parseInt(response.data.patientId));\n                })\n                console.log(\"Hello!\");\n                console.log(this.$store.state.patientId);\n            }\n        }\n    },\n  computed: {\n    getRoleAdmin() {\n      return this.$store.state.user.authorities[0].name === 'ROLE_ADMIN'\n    },\n    getRolePatient() {\n      return this.$store.state.user.authorities[0].name === 'ROLE_USER'\n    },\n    getRoleDoctor() {\n      return this.$store.state.user.authorities[0].name === 'ROLE_DOCTOR'\n    }\n  },\n  created() {\n    console.log(this.$store.state.user.authorities[0].name)\n      const currentPatientId = PatientService.getCurrentPatientId(this.$store.state.user.id);\n      console.log(currentPatientId);\n  }\n}\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}