{"ast":null,"code":"import _typeof from \"/Users/kwon/Desktop/repo/Medical-Scheduling-Application-Frontend/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport _objectSpread from \"/Users/kwon/Desktop/repo/Medical-Scheduling-Application-Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.parse-int.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.concat.js\";\n// Styles\nimport \"../../../../src/components/VCalendar/mixins/calendar-with-events.sass\"; // Directives\n\nimport ripple from '../../../directives/ripple'; // Mixins\n\nimport CalendarBase from './calendar-base'; // Util\n\nimport props from '../util/props';\nimport { CalendarEventOverlapModes } from '../modes';\nimport { getDayIdentifier, diffMinutes } from '../util/timestamp';\nimport { parseEvent as _parseEvent, isEventStart, isEventOn, isEventOverlapping, isEventHiddenOn } from '../util/events';\nvar WIDTH_FULL = 100;\nvar WIDTH_START = 95;\nvar MINUTES_IN_DAY = 1440;\n/* @vue/component */\n\nexport default CalendarBase.extend({\n  name: 'calendar-with-events',\n  directives: {\n    ripple: ripple\n  },\n  props: _objectSpread(_objectSpread(_objectSpread({}, props.events), props.calendar), props.category),\n  computed: {\n    noEvents: function noEvents() {\n      return this.events.length === 0;\n    },\n    parsedEvents: function parsedEvents() {\n      return this.events.map(this.parseEvent);\n    },\n    parsedEventOverlapThreshold: function parsedEventOverlapThreshold() {\n      return parseInt(this.eventOverlapThreshold);\n    },\n    eventTimedFunction: function eventTimedFunction() {\n      var _this = this;\n      return typeof this.eventTimed === 'function' ? this.eventTimed : function (event) {\n        return !!event[_this.eventTimed];\n      };\n    },\n    eventCategoryFunction: function eventCategoryFunction() {\n      var _this2 = this;\n      return typeof this.eventCategory === 'function' ? this.eventCategory : function (event) {\n        return event[_this2.eventCategory];\n      };\n    },\n    eventTextColorFunction: function eventTextColorFunction() {\n      var _this3 = this;\n      return typeof this.eventTextColor === 'function' ? this.eventTextColor : function () {\n        return _this3.eventTextColor;\n      };\n    },\n    eventNameFunction: function eventNameFunction() {\n      var _this4 = this;\n      return typeof this.eventName === 'function' ? this.eventName : function (event, timedEvent) {\n        return event.input[_this4.eventName] || '';\n      };\n    },\n    eventModeFunction: function eventModeFunction() {\n      return typeof this.eventOverlapMode === 'function' ? this.eventOverlapMode : CalendarEventOverlapModes[this.eventOverlapMode];\n    },\n    eventWeekdays: function eventWeekdays() {\n      return this.parsedWeekdays;\n    },\n    categoryMode: function categoryMode() {\n      return this.type === 'category';\n    }\n  },\n  methods: {\n    eventColorFunction: function eventColorFunction(e) {\n      return typeof this.eventColor === 'function' ? this.eventColor(e) : e.color || this.eventColor;\n    },\n    parseEvent: function parseEvent(input) {\n      var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      return _parseEvent(input, index, this.eventStart, this.eventEnd, this.eventTimedFunction(input), this.categoryMode ? this.eventCategoryFunction(input) : false);\n    },\n    formatTime: function formatTime(withTime, ampm) {\n      var formatter = this.getFormatter({\n        timeZone: 'UTC',\n        hour: 'numeric',\n        minute: withTime.minute > 0 ? 'numeric' : undefined\n      });\n      return formatter(withTime, true);\n    },\n    updateEventVisibility: function updateEventVisibility() {\n      if (this.noEvents || !this.eventMore) {\n        return;\n      }\n      var eventHeight = this.eventHeight;\n      var eventsMap = this.getEventsMap();\n      for (var date in eventsMap) {\n        var _eventsMap$date = eventsMap[date],\n          parent = _eventsMap$date.parent,\n          events = _eventsMap$date.events,\n          more = _eventsMap$date.more;\n        if (!more) {\n          break;\n        }\n        var parentBounds = parent.getBoundingClientRect();\n        var last = events.length - 1;\n        var eventsSorted = events.map(function (event) {\n          return {\n            event: event,\n            bottom: event.getBoundingClientRect().bottom\n          };\n        }).sort(function (a, b) {\n          return a.bottom - b.bottom;\n        });\n        var hidden = 0;\n        for (var i = 0; i <= last; i++) {\n          var bottom = eventsSorted[i].bottom;\n          var hide = i === last ? bottom > parentBounds.bottom : bottom + eventHeight > parentBounds.bottom;\n          if (hide) {\n            eventsSorted[i].event.style.display = 'none';\n            hidden++;\n          }\n        }\n        if (hidden) {\n          more.style.display = '';\n          more.innerHTML = this.$vuetify.lang.t(this.eventMoreText, hidden);\n        } else {\n          more.style.display = 'none';\n        }\n      }\n    },\n    getEventsMap: function getEventsMap() {\n      var eventsMap = {};\n      var elements = this.$refs.events;\n      if (!elements || !elements.forEach) {\n        return eventsMap;\n      }\n      elements.forEach(function (el) {\n        var date = el.getAttribute('data-date');\n        if (el.parentElement && date) {\n          if (!(date in eventsMap)) {\n            eventsMap[date] = {\n              parent: el.parentElement,\n              more: null,\n              events: []\n            };\n          }\n          if (el.getAttribute('data-more')) {\n            eventsMap[date].more = el;\n          } else {\n            eventsMap[date].events.push(el);\n            el.style.display = '';\n          }\n        }\n      });\n      return eventsMap;\n    },\n    genDayEvent: function genDayEvent(_ref, day) {\n      var event = _ref.event;\n      var eventHeight = this.eventHeight;\n      var eventMarginBottom = this.eventMarginBottom;\n      var dayIdentifier = getDayIdentifier(day);\n      var week = day.week;\n      var start = dayIdentifier === event.startIdentifier;\n      var end = dayIdentifier === event.endIdentifier;\n      var width = WIDTH_START;\n      if (!this.categoryMode) {\n        for (var i = day.index + 1; i < week.length; i++) {\n          var weekdayIdentifier = getDayIdentifier(week[i]);\n          if (event.endIdentifier >= weekdayIdentifier) {\n            width += WIDTH_FULL;\n            end = end || weekdayIdentifier === event.endIdentifier;\n          } else {\n            end = true;\n            break;\n          }\n        }\n      }\n      var scope = {\n        eventParsed: event,\n        day: day,\n        start: start,\n        end: end,\n        timed: false\n      };\n      return this.genEvent(event, scope, false, {\n        staticClass: 'v-event',\n        \"class\": {\n          'v-event-start': start,\n          'v-event-end': end\n        },\n        style: {\n          height: \"\".concat(eventHeight, \"px\"),\n          width: \"\".concat(width, \"%\"),\n          'margin-bottom': \"\".concat(eventMarginBottom, \"px\")\n        },\n        attrs: {\n          'data-date': day.date\n        },\n        key: event.index,\n        ref: 'events',\n        refInFor: true\n      });\n    },\n    genTimedEvent: function genTimedEvent(_ref2, day) {\n      var event = _ref2.event,\n        left = _ref2.left,\n        width = _ref2.width;\n      if (day.timeDelta(event.end) < 0 || day.timeDelta(event.start) >= 1 || isEventHiddenOn(event, day)) {\n        return false;\n      }\n      var dayIdentifier = getDayIdentifier(day);\n      var start = event.startIdentifier >= dayIdentifier;\n      var end = event.endIdentifier > dayIdentifier;\n      var top = start ? day.timeToY(event.start) : 0;\n      var bottom = end ? day.timeToY(MINUTES_IN_DAY) : day.timeToY(event.end);\n      var height = Math.max(this.eventHeight, bottom - top);\n      var scope = {\n        eventParsed: event,\n        day: day,\n        start: start,\n        end: end,\n        timed: true\n      };\n      return this.genEvent(event, scope, true, {\n        staticClass: 'v-event-timed',\n        style: {\n          top: \"\".concat(top, \"px\"),\n          height: \"\".concat(height, \"px\"),\n          left: \"\".concat(left, \"%\"),\n          width: \"\".concat(width, \"%\")\n        }\n      });\n    },\n    genEvent: function genEvent(event, scopeInput, timedEvent, data) {\n      var _this5 = this;\n      var _a;\n      var slot = this.$scopedSlots.event;\n      var text = this.eventTextColorFunction(event.input);\n      var background = this.eventColorFunction(event.input);\n      var overlapsNoon = event.start.hour < 12 && event.end.hour >= 12;\n      var singline = diffMinutes(event.start, event.end) <= this.parsedEventOverlapThreshold;\n      var formatTime = this.formatTime;\n      var timeSummary = function timeSummary() {\n        return formatTime(event.start, overlapsNoon) + ' - ' + formatTime(event.end, true);\n      };\n      var eventSummary = function eventSummary() {\n        var name = _this5.eventNameFunction(event, timedEvent);\n        if (event.start.hasTime) {\n          if (timedEvent) {\n            var time = timeSummary();\n            var delimiter = singline ? ', ' : _this5.$createElement('br');\n            return _this5.$createElement('span', {\n              staticClass: 'v-event-summary'\n            }, [_this5.$createElement('strong', [name]), delimiter, time]);\n          } else {\n            var _time = formatTime(event.start, true);\n            return _this5.$createElement('span', {\n              staticClass: 'v-event-summary'\n            }, [_this5.$createElement('strong', [_time]), ' ', name]);\n          }\n        }\n        return _this5.$createElement('span', {\n          staticClass: 'v-event-summary'\n        }, [name]);\n      };\n      var scope = _objectSpread(_objectSpread({}, scopeInput), {}, {\n        event: event.input,\n        outside: scopeInput.day.outside,\n        singline: singline,\n        overlapsNoon: overlapsNoon,\n        formatTime: formatTime,\n        timeSummary: timeSummary,\n        eventSummary: eventSummary\n      });\n      return this.$createElement('div', this.setTextColor(text, this.setBackgroundColor(background, _objectSpread({\n        on: this.getDefaultMouseEventHandlers(':event', function (nativeEvent) {\n          return _objectSpread(_objectSpread({}, scope), {}, {\n            nativeEvent: nativeEvent\n          });\n        }),\n        directives: [{\n          name: 'ripple',\n          value: (_a = this.eventRipple) !== null && _a !== void 0 ? _a : true\n        }]\n      }, data))), slot ? slot(scope) : [this.genName(eventSummary)]);\n    },\n    genName: function genName(eventSummary) {\n      return this.$createElement('div', {\n        staticClass: 'pl-1'\n      }, [eventSummary()]);\n    },\n    genPlaceholder: function genPlaceholder(day) {\n      var height = this.eventHeight + this.eventMarginBottom;\n      return this.$createElement('div', {\n        style: {\n          height: \"\".concat(height, \"px\")\n        },\n        attrs: {\n          'data-date': day.date\n        },\n        ref: 'events',\n        refInFor: true\n      });\n    },\n    genMore: function genMore(day) {\n      var _a;\n      var eventHeight = this.eventHeight;\n      var eventMarginBottom = this.eventMarginBottom;\n      return this.$createElement('div', {\n        staticClass: 'v-event-more pl-1',\n        \"class\": {\n          'v-outside': day.outside\n        },\n        attrs: {\n          'data-date': day.date,\n          'data-more': 1\n        },\n        directives: [{\n          name: 'ripple',\n          value: (_a = this.eventRipple) !== null && _a !== void 0 ? _a : true\n        }],\n        on: this.getDefaultMouseEventHandlers(':more', function (nativeEvent) {\n          return _objectSpread({\n            nativeEvent: nativeEvent\n          }, day);\n        }),\n        style: {\n          display: 'none',\n          height: \"\".concat(eventHeight, \"px\"),\n          'margin-bottom': \"\".concat(eventMarginBottom, \"px\")\n        },\n        ref: 'events',\n        refInFor: true\n      });\n    },\n    getVisibleEvents: function getVisibleEvents() {\n      var start = getDayIdentifier(this.days[0]);\n      var end = getDayIdentifier(this.days[this.days.length - 1]);\n      return this.parsedEvents.filter(function (event) {\n        return isEventOverlapping(event, start, end);\n      });\n    },\n    isEventForCategory: function isEventForCategory(event, category) {\n      return !this.categoryMode || _typeof(category) === 'object' && category.categoryName && category.categoryName === event.category || typeof event.category === 'string' && category === event.category || typeof event.category !== 'string' && category === null;\n    },\n    getEventsForDay: function getEventsForDay(day) {\n      var identifier = getDayIdentifier(day);\n      var firstWeekday = this.eventWeekdays[0];\n      return this.parsedEvents.filter(function (event) {\n        return isEventStart(event, day, identifier, firstWeekday);\n      });\n    },\n    getEventsForDayAll: function getEventsForDayAll(day) {\n      var _this6 = this;\n      var identifier = getDayIdentifier(day);\n      var firstWeekday = this.eventWeekdays[0];\n      return this.parsedEvents.filter(function (event) {\n        return event.allDay && (_this6.categoryMode ? isEventOn(event, identifier) : isEventStart(event, day, identifier, firstWeekday)) && _this6.isEventForCategory(event, day.category);\n      });\n    },\n    getEventsForDayTimed: function getEventsForDayTimed(day) {\n      var _this7 = this;\n      var identifier = getDayIdentifier(day);\n      return this.parsedEvents.filter(function (event) {\n        return !event.allDay && isEventOn(event, identifier) && _this7.isEventForCategory(event, day.category);\n      });\n    },\n    getScopedSlots: function getScopedSlots() {\n      var _this8 = this;\n      if (this.noEvents) {\n        return _objectSpread({}, this.$scopedSlots);\n      }\n      var mode = this.eventModeFunction(this.parsedEvents, this.eventWeekdays[0], this.parsedEventOverlapThreshold);\n      var isNode = function isNode(input) {\n        return !!input;\n      };\n      var getSlotChildren = function getSlotChildren(day, getter, mapper, timed) {\n        var events = getter(day);\n        var visuals = mode(day, events, timed, _this8.categoryMode);\n        if (timed) {\n          return visuals.map(function (visual) {\n            return mapper(visual, day);\n          }).filter(isNode);\n        }\n        var children = [];\n        visuals.forEach(function (visual, index) {\n          while (children.length < visual.column) {\n            children.push(_this8.genPlaceholder(day));\n          }\n          var mapped = mapper(visual, day);\n          if (mapped) {\n            children.push(mapped);\n          }\n        });\n        return children;\n      };\n      var slots = this.$scopedSlots;\n      var slotDay = slots.day;\n      var slotDayHeader = slots['day-header'];\n      var slotDayBody = slots['day-body'];\n      return _objectSpread(_objectSpread({}, slots), {}, {\n        day: function day(_day) {\n          var children = getSlotChildren(_day, _this8.getEventsForDay, _this8.genDayEvent, false);\n          if (children && children.length > 0 && _this8.eventMore) {\n            children.push(_this8.genMore(_day));\n          }\n          if (slotDay) {\n            var slot = slotDay(_day);\n            if (slot) {\n              children = children ? children.concat(slot) : slot;\n            }\n          }\n          return children;\n        },\n        'day-header': function dayHeader(day) {\n          var children = getSlotChildren(day, _this8.getEventsForDayAll, _this8.genDayEvent, false);\n          if (slotDayHeader) {\n            var slot = slotDayHeader(day);\n            if (slot) {\n              children = children ? children.concat(slot) : slot;\n            }\n          }\n          return children;\n        },\n        'day-body': function dayBody(day) {\n          var events = getSlotChildren(day, _this8.getEventsForDayTimed, _this8.genTimedEvent, true);\n          var children = [_this8.$createElement('div', {\n            staticClass: 'v-event-timed-container'\n          }, events)];\n          if (slotDayBody) {\n            var slot = slotDayBody(day);\n            if (slot) {\n              children = children.concat(slot);\n            }\n          }\n          return children;\n        }\n      });\n    }\n  }\n});","map":{"version":3,"names":["ripple","CalendarBase","props","CalendarEventOverlapModes","getDayIdentifier","diffMinutes","parseEvent","isEventStart","isEventOn","isEventOverlapping","isEventHiddenOn","WIDTH_FULL","WIDTH_START","MINUTES_IN_DAY","extend","name","directives","_objectSpread","events","calendar","category","computed","noEvents","length","parsedEvents","map","parsedEventOverlapThreshold","parseInt","eventOverlapThreshold","eventTimedFunction","_this","eventTimed","event","eventCategoryFunction","_this2","eventCategory","eventTextColorFunction","_this3","eventTextColor","eventNameFunction","_this4","eventName","timedEvent","input","eventModeFunction","eventOverlapMode","eventWeekdays","parsedWeekdays","categoryMode","type","methods","eventColorFunction","e","eventColor","color","index","arguments","undefined","eventStart","eventEnd","formatTime","withTime","ampm","formatter","getFormatter","timeZone","hour","minute","updateEventVisibility","eventMore","eventHeight","eventsMap","getEventsMap","date","_eventsMap$date","parent","more","parentBounds","getBoundingClientRect","last","eventsSorted","bottom","sort","a","b","hidden","i","hide","style","display","innerHTML","$vuetify","lang","t","eventMoreText","elements","$refs","forEach","el","getAttribute","parentElement","push","genDayEvent","_ref","day","eventMarginBottom","dayIdentifier","week","start","startIdentifier","end","endIdentifier","width","weekdayIdentifier","scope","eventParsed","timed","genEvent","staticClass","height","concat","attrs","key","ref","refInFor","genTimedEvent","_ref2","left","timeDelta","top","timeToY","Math","max","scopeInput","data","_this5","slot","$scopedSlots","text","background","overlapsNoon","singline","timeSummary","eventSummary","hasTime","time","delimiter","$createElement","outside","setTextColor","setBackgroundColor","on","getDefaultMouseEventHandlers","nativeEvent","value","_a","eventRipple","genName","genPlaceholder","genMore","getVisibleEvents","days","filter","isEventForCategory","_typeof","categoryName","getEventsForDay","identifier","firstWeekday","getEventsForDayAll","_this6","allDay","getEventsForDayTimed","_this7","getScopedSlots","_this8","mode","isNode","getSlotChildren","getter","mapper","visuals","visual","children","column","mapped","slots","slotDay","slotDayHeader","slotDayBody","dayHeader","dayBody"],"sources":["../../../../src/components/VCalendar/mixins/calendar-with-events.ts"],"sourcesContent":["// Styles\nimport './calendar-with-events.sass'\n\n// Types\nimport { VNode, VNodeData } from 'vue'\n\n// Directives\nimport ripple from '../../../directives/ripple'\n\n// Mixins\nimport CalendarBase from './calendar-base'\n\n// Util\nimport props from '../util/props'\nimport {\n  CalendarEventOverlapModes,\n} from '../modes'\nimport {\n  getDayIdentifier, diffMinutes,\n} from '../util/timestamp'\nimport {\n  parseEvent,\n  isEventStart,\n  isEventOn,\n  isEventOverlapping,\n  isEventHiddenOn,\n} from '../util/events'\nimport {\n  CalendarTimestamp,\n  CalendarEventParsed,\n  CalendarEventVisual,\n  CalendarEventColorFunction,\n  CalendarEventNameFunction,\n  CalendarEventTimedFunction,\n  CalendarDaySlotScope,\n  CalendarDayBodySlotScope,\n  CalendarEventOverlapMode,\n  CalendarEvent,\n  CalendarEventCategoryFunction,\n  CalendarCategory,\n} from 'vuetify/types'\n\n// Types\ntype VEventGetter<D> = (day: D) => CalendarEventParsed[]\n\ntype VEventVisualToNode<D> = (visual: CalendarEventVisual, day: D) => VNode | false\n\ntype VEventsToNodes = <D extends CalendarDaySlotScope>(\n  day: D,\n  getter: VEventGetter<D>,\n  mapper: VEventVisualToNode<D>,\n  timed: boolean) => VNode[] | undefined\n\ntype VDailyEventsMap = {\n  [date: string]: {\n    parent: HTMLElement\n    more: HTMLElement | null\n    events: HTMLElement[]\n  }\n}\n\ninterface VEventScopeInput {\n  eventParsed: CalendarEventParsed\n  day: CalendarDaySlotScope\n  start: boolean\n  end: boolean\n  timed: boolean\n}\n\nconst WIDTH_FULL = 100\nconst WIDTH_START = 95\nconst MINUTES_IN_DAY = 1440\n\n/* @vue/component */\nexport default CalendarBase.extend({\n  name: 'calendar-with-events',\n\n  directives: {\n    ripple,\n  },\n\n  props: {\n    ...props.events,\n    ...props.calendar,\n    ...props.category,\n  },\n\n  computed: {\n    noEvents (): boolean {\n      return this.events.length === 0\n    },\n    parsedEvents (): CalendarEventParsed[] {\n      return this.events.map(this.parseEvent)\n    },\n    parsedEventOverlapThreshold (): number {\n      return parseInt(this.eventOverlapThreshold)\n    },\n    eventTimedFunction (): CalendarEventTimedFunction {\n      return typeof this.eventTimed === 'function'\n        ? this.eventTimed\n        : event => !!event[this.eventTimed as string]\n    },\n    eventCategoryFunction (): CalendarEventCategoryFunction {\n      return typeof this.eventCategory === 'function'\n        ? this.eventCategory\n        : event => event[this.eventCategory as string]\n    },\n    eventTextColorFunction (): CalendarEventColorFunction {\n      return typeof this.eventTextColor === 'function'\n        ? this.eventTextColor\n        : () => this.eventTextColor as string\n    },\n    eventNameFunction (): CalendarEventNameFunction {\n      return typeof this.eventName === 'function'\n        ? this.eventName\n        : (event, timedEvent) => event.input[this.eventName as string] as string || ''\n    },\n    eventModeFunction (): CalendarEventOverlapMode {\n      return typeof this.eventOverlapMode === 'function'\n        ? this.eventOverlapMode\n        : CalendarEventOverlapModes[this.eventOverlapMode]\n    },\n    eventWeekdays (): number[] {\n      return this.parsedWeekdays\n    },\n    categoryMode (): boolean {\n      return this.type === 'category'\n    },\n  },\n\n  methods: {\n    eventColorFunction (e: CalendarEvent): string {\n      return typeof this.eventColor === 'function'\n        ? this.eventColor(e)\n        : e.color || this.eventColor\n    },\n    parseEvent (input: CalendarEvent, index = 0): CalendarEventParsed {\n      return parseEvent(\n        input,\n        index,\n        this.eventStart,\n        this.eventEnd,\n        this.eventTimedFunction(input),\n        this.categoryMode ? this.eventCategoryFunction(input) : false,\n      )\n    },\n    formatTime (withTime: CalendarTimestamp, ampm: boolean): string {\n      const formatter = this.getFormatter({\n        timeZone: 'UTC',\n        hour: 'numeric',\n        minute: withTime.minute > 0 ? 'numeric' : undefined,\n      })\n\n      return formatter(withTime, true)\n    },\n    updateEventVisibility () {\n      if (this.noEvents || !this.eventMore) {\n        return\n      }\n\n      const eventHeight = this.eventHeight\n      const eventsMap = this.getEventsMap()\n\n      for (const date in eventsMap) {\n        const { parent, events, more } = eventsMap[date]\n        if (!more) {\n          break\n        }\n\n        const parentBounds = parent.getBoundingClientRect()\n        const last = events.length - 1\n        const eventsSorted = events.map(event => ({\n          event,\n          bottom: event.getBoundingClientRect().bottom,\n        })).sort((a, b) => a.bottom - b.bottom)\n        let hidden = 0\n\n        for (let i = 0; i <= last; i++) {\n          const bottom = eventsSorted[i].bottom\n          const hide = i === last\n            ? (bottom > parentBounds.bottom)\n            : (bottom + eventHeight > parentBounds.bottom)\n\n          if (hide) {\n            eventsSorted[i].event.style.display = 'none'\n            hidden++\n          }\n        }\n\n        if (hidden) {\n          more.style.display = ''\n          more.innerHTML = this.$vuetify.lang.t(this.eventMoreText, hidden)\n        } else {\n          more.style.display = 'none'\n        }\n      }\n    },\n    getEventsMap (): VDailyEventsMap {\n      const eventsMap: VDailyEventsMap = {}\n      const elements = this.$refs.events as HTMLElement[]\n\n      if (!elements || !elements.forEach) {\n        return eventsMap\n      }\n\n      elements.forEach(el => {\n        const date = el.getAttribute('data-date')\n        if (el.parentElement && date) {\n          if (!(date in eventsMap)) {\n            eventsMap[date] = {\n              parent: el.parentElement,\n              more: null,\n              events: [],\n            }\n          }\n          if (el.getAttribute('data-more')) {\n            eventsMap[date].more = el\n          } else {\n            eventsMap[date].events.push(el)\n            el.style.display = ''\n          }\n        }\n      })\n\n      return eventsMap\n    },\n    genDayEvent ({ event }: CalendarEventVisual, day: CalendarDaySlotScope): VNode {\n      const eventHeight = this.eventHeight\n      const eventMarginBottom = this.eventMarginBottom\n      const dayIdentifier = getDayIdentifier(day)\n      const week = day.week\n      const start = dayIdentifier === event.startIdentifier\n      let end = dayIdentifier === event.endIdentifier\n      let width = WIDTH_START\n\n      if (!this.categoryMode) {\n        for (let i = day.index + 1; i < week.length; i++) {\n          const weekdayIdentifier = getDayIdentifier(week[i])\n          if (event.endIdentifier >= weekdayIdentifier) {\n            width += WIDTH_FULL\n            end = end || weekdayIdentifier === event.endIdentifier\n          } else {\n            end = true\n            break\n          }\n        }\n      }\n      const scope = { eventParsed: event, day, start, end, timed: false }\n\n      return this.genEvent(event, scope, false, {\n        staticClass: 'v-event',\n        class: {\n          'v-event-start': start,\n          'v-event-end': end,\n        },\n        style: {\n          height: `${eventHeight}px`,\n          width: `${width}%`,\n          'margin-bottom': `${eventMarginBottom}px`,\n        },\n        attrs: {\n          'data-date': day.date,\n        },\n        key: event.index,\n        ref: 'events',\n        refInFor: true,\n      })\n    },\n    genTimedEvent ({ event, left, width }: CalendarEventVisual, day: CalendarDayBodySlotScope): VNode | false {\n      if (day.timeDelta(event.end) < 0 || day.timeDelta(event.start) >= 1 || isEventHiddenOn(event, day)) {\n        return false\n      }\n\n      const dayIdentifier = getDayIdentifier(day)\n      const start = event.startIdentifier >= dayIdentifier\n      const end = event.endIdentifier > dayIdentifier\n      const top = start ? day.timeToY(event.start) : 0\n      const bottom = end ? day.timeToY(MINUTES_IN_DAY) : day.timeToY(event.end)\n      const height = Math.max(this.eventHeight, bottom - top)\n      const scope = { eventParsed: event, day, start, end, timed: true }\n\n      return this.genEvent(event, scope, true, {\n        staticClass: 'v-event-timed',\n        style: {\n          top: `${top}px`,\n          height: `${height}px`,\n          left: `${left}%`,\n          width: `${width}%`,\n        },\n      })\n    },\n    genEvent (event: CalendarEventParsed, scopeInput: VEventScopeInput, timedEvent: boolean, data: VNodeData): VNode {\n      const slot = this.$scopedSlots.event\n      const text = this.eventTextColorFunction(event.input)\n      const background = this.eventColorFunction(event.input)\n      const overlapsNoon = event.start.hour < 12 && event.end.hour >= 12\n      const singline = diffMinutes(event.start, event.end) <= this.parsedEventOverlapThreshold\n      const formatTime = this.formatTime\n      const timeSummary = () => formatTime(event.start, overlapsNoon) + ' - ' + formatTime(event.end, true)\n      const eventSummary = () => {\n        const name = this.eventNameFunction(event, timedEvent)\n        if (event.start.hasTime) {\n          if (timedEvent) {\n            const time = timeSummary()\n            const delimiter = singline ? ', ' : this.$createElement('br')\n\n            return this.$createElement('span', { staticClass: 'v-event-summary' }, [\n              this.$createElement('strong', [name]),\n              delimiter,\n              time,\n            ])\n          } else {\n            const time = formatTime(event.start, true)\n\n            return this.$createElement('span', { staticClass: 'v-event-summary' }, [\n              this.$createElement('strong', [time]),\n              ' ',\n              name,\n            ])\n          }\n        }\n\n        return this.$createElement('span', { staticClass: 'v-event-summary' }, [name])\n      }\n\n      const scope = {\n        ...scopeInput,\n        event: event.input,\n        outside: scopeInput.day.outside,\n        singline,\n        overlapsNoon,\n        formatTime,\n        timeSummary,\n        eventSummary,\n      }\n\n      return this.$createElement('div',\n        this.setTextColor(text,\n          this.setBackgroundColor(background, {\n            on: this.getDefaultMouseEventHandlers(':event', nativeEvent => ({ ...scope, nativeEvent })),\n            directives: [{\n              name: 'ripple',\n              value: this.eventRipple ?? true,\n            }],\n            ...data,\n          })\n        ), slot\n          ? slot(scope)\n          : [this.genName(eventSummary)]\n      )\n    },\n    genName (eventSummary: () => string | VNode): VNode {\n      return this.$createElement('div', {\n        staticClass: 'pl-1',\n      }, [eventSummary()])\n    },\n    genPlaceholder (day: CalendarTimestamp): VNode {\n      const height = this.eventHeight + this.eventMarginBottom\n\n      return this.$createElement('div', {\n        style: {\n          height: `${height}px`,\n        },\n        attrs: {\n          'data-date': day.date,\n        },\n        ref: 'events',\n        refInFor: true,\n      })\n    },\n    genMore (day: CalendarDaySlotScope): VNode {\n      const eventHeight = this.eventHeight\n      const eventMarginBottom = this.eventMarginBottom\n\n      return this.$createElement('div', {\n        staticClass: 'v-event-more pl-1',\n        class: {\n          'v-outside': day.outside,\n        },\n        attrs: {\n          'data-date': day.date,\n          'data-more': 1,\n        },\n        directives: [{\n          name: 'ripple',\n          value: this.eventRipple ?? true,\n        }],\n        on: this.getDefaultMouseEventHandlers(':more', nativeEvent => {\n          return { nativeEvent, ...day }\n        }),\n\n        style: {\n          display: 'none',\n          height: `${eventHeight}px`,\n          'margin-bottom': `${eventMarginBottom}px`,\n        },\n        ref: 'events',\n        refInFor: true,\n      })\n    },\n    getVisibleEvents (): CalendarEventParsed[] {\n      const start = getDayIdentifier(this.days[0])\n      const end = getDayIdentifier(this.days[this.days.length - 1])\n\n      return this.parsedEvents.filter(\n        event => isEventOverlapping(event, start, end)\n      )\n    },\n    isEventForCategory (event: CalendarEventParsed, category: CalendarCategory): boolean {\n      return !this.categoryMode ||\n        (typeof category === 'object' && category.categoryName &&\n        category.categoryName === event.category) ||\n        (typeof event.category === 'string' && category === event.category) ||\n        (typeof event.category !== 'string' && category === null)\n    },\n    getEventsForDay (day: CalendarDaySlotScope): CalendarEventParsed[] {\n      const identifier = getDayIdentifier(day)\n      const firstWeekday = this.eventWeekdays[0]\n\n      return this.parsedEvents.filter(\n        event => isEventStart(event, day, identifier, firstWeekday)\n      )\n    },\n    getEventsForDayAll (day: CalendarDaySlotScope): CalendarEventParsed[] {\n      const identifier = getDayIdentifier(day)\n      const firstWeekday = this.eventWeekdays[0]\n\n      return this.parsedEvents.filter(\n        event => event.allDay &&\n          (this.categoryMode ? isEventOn(event, identifier) : isEventStart(event, day, identifier, firstWeekday)) &&\n          this.isEventForCategory(event, day.category)\n      )\n    },\n    getEventsForDayTimed (day: CalendarDaySlotScope): CalendarEventParsed[] {\n      const identifier = getDayIdentifier(day)\n      return this.parsedEvents.filter(\n        event => !event.allDay &&\n          isEventOn(event, identifier) &&\n          this.isEventForCategory(event, day.category)\n      )\n    },\n    getScopedSlots () {\n      if (this.noEvents) {\n        return { ...this.$scopedSlots }\n      }\n\n      const mode = this.eventModeFunction(\n        this.parsedEvents,\n        this.eventWeekdays[0],\n        this.parsedEventOverlapThreshold\n      )\n\n      const isNode = (input: VNode | false): input is VNode => !!input\n      const getSlotChildren: VEventsToNodes = (day, getter, mapper, timed) => {\n        const events = getter(day)\n        const visuals = mode(day, events, timed, this.categoryMode)\n\n        if (timed) {\n          return visuals.map(visual => mapper(visual, day)).filter(isNode)\n        }\n\n        const children: VNode[] = []\n\n        visuals.forEach((visual, index) => {\n          while (children.length < visual.column) {\n            children.push(this.genPlaceholder(day))\n          }\n\n          const mapped = mapper(visual, day)\n          if (mapped) {\n            children.push(mapped)\n          }\n        })\n\n        return children\n      }\n\n      const slots = this.$scopedSlots\n      const slotDay = slots.day\n      const slotDayHeader = slots['day-header']\n      const slotDayBody = slots['day-body']\n\n      return {\n        ...slots,\n        day: (day: CalendarDaySlotScope) => {\n          let children = getSlotChildren(day, this.getEventsForDay, this.genDayEvent, false)\n          if (children && children.length > 0 && this.eventMore) {\n            children.push(this.genMore(day))\n          }\n          if (slotDay) {\n            const slot = slotDay(day)\n            if (slot) {\n              children = children ? children.concat(slot) : slot\n            }\n          }\n          return children\n        },\n        'day-header': (day: CalendarDaySlotScope) => {\n          let children = getSlotChildren(day, this.getEventsForDayAll, this.genDayEvent, false)\n\n          if (slotDayHeader) {\n            const slot = slotDayHeader(day)\n            if (slot) {\n              children = children ? children.concat(slot) : slot\n            }\n          }\n          return children\n        },\n        'day-body': (day: CalendarDayBodySlotScope) => {\n          const events = getSlotChildren(day, this.getEventsForDayTimed, this.genTimedEvent, true)\n          let children: VNode[] = [\n            this.$createElement('div', {\n              staticClass: 'v-event-timed-container',\n            }, events),\n          ]\n\n          if (slotDayBody) {\n            const slot = slotDayBody(day)\n            if (slot) {\n              children = children.concat(slot)\n            }\n          }\n          return children\n        },\n      }\n    },\n  },\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}