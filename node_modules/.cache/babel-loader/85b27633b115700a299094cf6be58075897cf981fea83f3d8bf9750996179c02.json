{"ast":null,"code":"import _typeof from \"/Users/kwon/Desktop/repo/Medical-Scheduling-Application-Frontend/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.parse-int.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { isLeapYear } from '../../../util/dateTimeUtils';\nexport var PARSE_REGEX = /^(\\d{4})-(\\d{1,2})(-(\\d{1,2}))?([^\\d]+(\\d{1,2}))?(:(\\d{1,2}))?(:(\\d{1,2}))?$/;\nexport var PARSE_TIME = /(\\d\\d?)(:(\\d\\d?)|)(:(\\d\\d?)|)/;\nexport var DAYS_IN_MONTH = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nexport var DAYS_IN_MONTH_LEAP = [0, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nexport var DAYS_IN_MONTH_MIN = 28;\nexport var DAYS_IN_MONTH_MAX = 31;\nexport var MONTH_MAX = 12;\nexport var MONTH_MIN = 1;\nexport var DAY_MIN = 1;\nexport var DAYS_IN_WEEK = 7;\nexport var MINUTES_IN_HOUR = 60;\nexport var MINUTE_MAX = 59;\nexport var MINUTES_IN_DAY = 24 * 60;\nexport var HOURS_IN_DAY = 24;\nexport var HOUR_MAX = 23;\nexport var FIRST_HOUR = 0;\nexport var OFFSET_YEAR = 10000;\nexport var OFFSET_MONTH = 100;\nexport var OFFSET_HOUR = 100;\nexport var OFFSET_TIME = 10000;\nexport function getStartOfWeek(timestamp, weekdays, today) {\n  var start = copyTimestamp(timestamp);\n  findWeekday(start, weekdays[0], prevDay);\n  updateFormatted(start);\n  if (today) {\n    updateRelative(start, today, start.hasTime);\n  }\n  return start;\n}\nexport function getEndOfWeek(timestamp, weekdays, today) {\n  var end = copyTimestamp(timestamp);\n  findWeekday(end, weekdays[weekdays.length - 1]);\n  updateFormatted(end);\n  if (today) {\n    updateRelative(end, today, end.hasTime);\n  }\n  return end;\n}\nexport function getStartOfMonth(timestamp) {\n  var start = copyTimestamp(timestamp);\n  start.day = DAY_MIN;\n  updateWeekday(start);\n  updateFormatted(start);\n  return start;\n}\nexport function getEndOfMonth(timestamp) {\n  var end = copyTimestamp(timestamp);\n  end.day = daysInMonth(end.year, end.month);\n  updateWeekday(end);\n  updateFormatted(end);\n  return end;\n}\nexport function validateTime(input) {\n  return typeof input === 'number' && isFinite(input) || !!PARSE_TIME.exec(input) || _typeof(input) === 'object' && isFinite(input.hour) && isFinite(input.minute);\n}\nexport function parseTime(input) {\n  if (typeof input === 'number') {\n    // when a number is given, it's minutes since 12:00am\n    return input;\n  } else if (typeof input === 'string') {\n    // when a string is given, it's a hh:mm:ss format where seconds are optional\n    var parts = PARSE_TIME.exec(input);\n    if (!parts) {\n      return false;\n    }\n    return parseInt(parts[1]) * 60 + parseInt(parts[3] || 0);\n  } else if (_typeof(input) === 'object') {\n    // when an object is given, it must have hour and minute\n    if (typeof input.hour !== 'number' || typeof input.minute !== 'number') {\n      return false;\n    }\n    return input.hour * 60 + input.minute;\n  } else {\n    // unsupported type\n    return false;\n  }\n}\nexport function validateTimestamp(input) {\n  return typeof input === 'number' && isFinite(input) || typeof input === 'string' && !!PARSE_REGEX.exec(input) || input instanceof Date;\n}\nexport function parseTimestamp(input) {\n  var required = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var now = arguments.length > 2 ? arguments[2] : undefined;\n  if (typeof input === 'number' && isFinite(input)) {\n    input = new Date(input);\n  }\n  if (input instanceof Date) {\n    var date = parseDate(input);\n    if (now) {\n      updateRelative(date, now, date.hasTime);\n    }\n    return date;\n  }\n  if (typeof input !== 'string') {\n    if (required) {\n      throw new Error(\"\".concat(input, \" is not a valid timestamp. It must be a Date, number of milliseconds since Epoch, or a string in the format of YYYY-MM-DD or YYYY-MM-DD hh:mm. Zero-padding is optional and seconds are ignored.\"));\n    }\n    return null;\n  } // YYYY-MM-DD hh:mm:ss\n\n  var parts = PARSE_REGEX.exec(input);\n  if (!parts) {\n    if (required) {\n      throw new Error(\"\".concat(input, \" is not a valid timestamp. It must be a Date, number of milliseconds since Epoch, or a string in the format of YYYY-MM-DD or YYYY-MM-DD hh:mm. Zero-padding is optional and seconds are ignored.\"));\n    }\n    return null;\n  }\n  var timestamp = {\n    date: input,\n    time: '',\n    year: parseInt(parts[1]),\n    month: parseInt(parts[2]),\n    day: parseInt(parts[4]) || 1,\n    hour: parseInt(parts[6]) || 0,\n    minute: parseInt(parts[8]) || 0,\n    weekday: 0,\n    hasDay: !!parts[4],\n    hasTime: !!(parts[6] && parts[8]),\n    past: false,\n    present: false,\n    future: false\n  };\n  updateWeekday(timestamp);\n  updateFormatted(timestamp);\n  if (now) {\n    updateRelative(timestamp, now, timestamp.hasTime);\n  }\n  return timestamp;\n}\nexport function parseDate(date) {\n  return updateFormatted({\n    date: '',\n    time: '',\n    year: date.getFullYear(),\n    month: date.getMonth() + 1,\n    day: date.getDate(),\n    weekday: date.getDay(),\n    hour: date.getHours(),\n    minute: date.getMinutes(),\n    hasDay: true,\n    hasTime: true,\n    past: false,\n    present: true,\n    future: false\n  });\n}\nexport function getDayIdentifier(timestamp) {\n  return timestamp.year * OFFSET_YEAR + timestamp.month * OFFSET_MONTH + timestamp.day;\n}\nexport function getTimeIdentifier(timestamp) {\n  return timestamp.hour * OFFSET_HOUR + timestamp.minute;\n}\nexport function getTimestampIdentifier(timestamp) {\n  return getDayIdentifier(timestamp) * OFFSET_TIME + getTimeIdentifier(timestamp);\n}\nexport function updateRelative(timestamp, now) {\n  var time = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var a = getDayIdentifier(now);\n  var b = getDayIdentifier(timestamp);\n  var present = a === b;\n  if (timestamp.hasTime && time && present) {\n    a = getTimeIdentifier(now);\n    b = getTimeIdentifier(timestamp);\n    present = a === b;\n  }\n  timestamp.past = b < a;\n  timestamp.present = present;\n  timestamp.future = b > a;\n  return timestamp;\n}\nexport function isTimedless(input) {\n  return input instanceof Date || typeof input === 'number' && isFinite(input);\n}\nexport function updateHasTime(timestamp, hasTime, now) {\n  if (timestamp.hasTime !== hasTime) {\n    timestamp.hasTime = hasTime;\n    if (!hasTime) {\n      timestamp.hour = HOUR_MAX;\n      timestamp.minute = MINUTE_MAX;\n      timestamp.time = getTime(timestamp);\n    }\n    if (now) {\n      updateRelative(timestamp, now, timestamp.hasTime);\n    }\n  }\n  return timestamp;\n}\nexport function updateMinutes(timestamp, minutes, now) {\n  timestamp.hasTime = true;\n  timestamp.hour = Math.floor(minutes / MINUTES_IN_HOUR);\n  timestamp.minute = minutes % MINUTES_IN_HOUR;\n  timestamp.time = getTime(timestamp);\n  if (now) {\n    updateRelative(timestamp, now, true);\n  }\n  return timestamp;\n}\nexport function updateWeekday(timestamp) {\n  timestamp.weekday = getWeekday(timestamp);\n  return timestamp;\n}\nexport function updateFormatted(timestamp) {\n  timestamp.time = getTime(timestamp);\n  timestamp.date = getDate(timestamp);\n  return timestamp;\n}\nexport function getWeekday(timestamp) {\n  if (timestamp.hasDay) {\n    var _ = Math.floor;\n    var k = timestamp.day;\n    var m = (timestamp.month + 9) % MONTH_MAX + 1;\n    var C = _(timestamp.year / 100);\n    var Y = timestamp.year % 100 - (timestamp.month <= 2 ? 1 : 0);\n    return ((k + _(2.6 * m - 0.2) - 2 * C + Y + _(Y / 4) + _(C / 4)) % 7 + 7) % 7;\n  }\n  return timestamp.weekday;\n}\nexport function daysInMonth(year, month) {\n  return isLeapYear(year) ? DAYS_IN_MONTH_LEAP[month] : DAYS_IN_MONTH[month];\n}\nexport function copyTimestamp(timestamp) {\n  var date = timestamp.date,\n    time = timestamp.time,\n    year = timestamp.year,\n    month = timestamp.month,\n    day = timestamp.day,\n    weekday = timestamp.weekday,\n    hour = timestamp.hour,\n    minute = timestamp.minute,\n    hasDay = timestamp.hasDay,\n    hasTime = timestamp.hasTime,\n    past = timestamp.past,\n    present = timestamp.present,\n    future = timestamp.future;\n  return {\n    date: date,\n    time: time,\n    year: year,\n    month: month,\n    day: day,\n    weekday: weekday,\n    hour: hour,\n    minute: minute,\n    hasDay: hasDay,\n    hasTime: hasTime,\n    past: past,\n    present: present,\n    future: future\n  };\n}\nexport function padNumber(x, length) {\n  var padded = String(x);\n  while (padded.length < length) {\n    padded = '0' + padded;\n  }\n  return padded;\n}\nexport function getDate(timestamp) {\n  var str = \"\".concat(padNumber(timestamp.year, 4), \"-\").concat(padNumber(timestamp.month, 2));\n  if (timestamp.hasDay) str += \"-\".concat(padNumber(timestamp.day, 2));\n  return str;\n}\nexport function getTime(timestamp) {\n  if (!timestamp.hasTime) {\n    return '';\n  }\n  return \"\".concat(padNumber(timestamp.hour, 2), \":\").concat(padNumber(timestamp.minute, 2));\n}\nexport function nextMinutes(timestamp, minutes) {\n  timestamp.minute += minutes;\n  while (timestamp.minute > MINUTES_IN_HOUR) {\n    timestamp.minute -= MINUTES_IN_HOUR;\n    timestamp.hour++;\n    if (timestamp.hour >= HOURS_IN_DAY) {\n      nextDay(timestamp);\n      timestamp.hour = FIRST_HOUR;\n    }\n  }\n  return timestamp;\n}\nexport function nextDay(timestamp) {\n  timestamp.day++;\n  timestamp.weekday = (timestamp.weekday + 1) % DAYS_IN_WEEK;\n  if (timestamp.day > DAYS_IN_MONTH_MIN && timestamp.day > daysInMonth(timestamp.year, timestamp.month)) {\n    timestamp.day = DAY_MIN;\n    timestamp.month++;\n    if (timestamp.month > MONTH_MAX) {\n      timestamp.month = MONTH_MIN;\n      timestamp.year++;\n    }\n  }\n  return timestamp;\n}\nexport function prevDay(timestamp) {\n  timestamp.day--;\n  timestamp.weekday = (timestamp.weekday + 6) % DAYS_IN_WEEK;\n  if (timestamp.day < DAY_MIN) {\n    timestamp.month--;\n    if (timestamp.month < MONTH_MIN) {\n      timestamp.year--;\n      timestamp.month = MONTH_MAX;\n    }\n    timestamp.day = daysInMonth(timestamp.year, timestamp.month);\n  }\n  return timestamp;\n}\nexport function relativeDays(timestamp) {\n  var mover = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : nextDay;\n  var days = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  while (--days >= 0) mover(timestamp);\n  return timestamp;\n}\nexport function diffMinutes(min, max) {\n  var Y = (max.year - min.year) * 525600;\n  var M = (max.month - min.month) * 43800;\n  var D = (max.day - min.day) * 1440;\n  var h = (max.hour - min.hour) * 60;\n  var m = max.minute - min.minute;\n  return Y + M + D + h + m;\n}\nexport function findWeekday(timestamp, weekday) {\n  var mover = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : nextDay;\n  var maxDays = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 6;\n  while (timestamp.weekday !== weekday && --maxDays >= 0) mover(timestamp);\n  return timestamp;\n}\nexport function getWeekdaySkips(weekdays) {\n  var skips = [1, 1, 1, 1, 1, 1, 1];\n  var filled = [0, 0, 0, 0, 0, 0, 0];\n  for (var i = 0; i < weekdays.length; i++) {\n    filled[weekdays[i]] = 1;\n  }\n  for (var k = 0; k < DAYS_IN_WEEK; k++) {\n    var skip = 1;\n    for (var j = 1; j < DAYS_IN_WEEK; j++) {\n      var next = (k + j) % DAYS_IN_WEEK;\n      if (filled[next]) {\n        break;\n      }\n      skip++;\n    }\n    skips[k] = filled[k] * skip;\n  }\n  return skips;\n}\nexport function timestampToDate(timestamp) {\n  var time = \"\".concat(padNumber(timestamp.hour, 2), \":\").concat(padNumber(timestamp.minute, 2));\n  var date = timestamp.date;\n  return new Date(\"\".concat(date, \"T\").concat(time, \":00+00:00\"));\n}\nexport function createDayList(start, end, now, weekdaySkips) {\n  var max = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 42;\n  var min = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n  var stop = getDayIdentifier(end);\n  var days = [];\n  var current = copyTimestamp(start);\n  var currentIdentifier = 0;\n  var stopped = currentIdentifier === stop;\n  if (stop < getDayIdentifier(start)) {\n    throw new Error('End date is earlier than start date.');\n  }\n  while ((!stopped || days.length < min) && days.length < max) {\n    currentIdentifier = getDayIdentifier(current);\n    stopped = stopped || currentIdentifier === stop;\n    if (weekdaySkips[current.weekday] === 0) {\n      current = nextDay(current);\n      continue;\n    }\n    var day = copyTimestamp(current);\n    updateFormatted(day);\n    updateRelative(day, now);\n    days.push(day);\n    current = relativeDays(current, nextDay, weekdaySkips[current.weekday]);\n  }\n  if (!days.length) throw new Error('No dates found using specified start date, end date, and weekdays.');\n  return days;\n}\nexport function createIntervalList(timestamp, first, minutes, count, now) {\n  var intervals = [];\n  for (var i = 0; i < count; i++) {\n    var mins = first + i * minutes;\n    var _int = copyTimestamp(timestamp);\n    intervals.push(updateMinutes(_int, mins, now));\n  }\n  return intervals;\n}\nexport function createNativeLocaleFormatter(locale, getOptions) {\n  var emptyFormatter = function emptyFormatter(_t, _s) {\n    return '';\n  };\n  if (typeof Intl === 'undefined' || typeof Intl.DateTimeFormat === 'undefined') {\n    return emptyFormatter;\n  }\n  return function (timestamp, _short) {\n    try {\n      var intlFormatter = new Intl.DateTimeFormat(locale || undefined, getOptions(timestamp, _short));\n      return intlFormatter.format(timestampToDate(timestamp));\n    } catch (e) {\n      return '';\n    }\n  };\n}","map":{"version":3,"names":["isLeapYear","PARSE_REGEX","PARSE_TIME","DAYS_IN_MONTH","DAYS_IN_MONTH_LEAP","DAYS_IN_MONTH_MIN","DAYS_IN_MONTH_MAX","MONTH_MAX","MONTH_MIN","DAY_MIN","DAYS_IN_WEEK","MINUTES_IN_HOUR","MINUTE_MAX","MINUTES_IN_DAY","HOURS_IN_DAY","HOUR_MAX","FIRST_HOUR","OFFSET_YEAR","OFFSET_MONTH","OFFSET_HOUR","OFFSET_TIME","getStartOfWeek","timestamp","weekdays","today","start","copyTimestamp","findWeekday","prevDay","updateFormatted","updateRelative","hasTime","getEndOfWeek","end","length","getStartOfMonth","day","updateWeekday","getEndOfMonth","daysInMonth","year","month","validateTime","input","isFinite","exec","_typeof","hour","minute","parseTime","parts","parseInt","validateTimestamp","Date","parseTimestamp","required","arguments","undefined","now","date","parseDate","Error","concat","time","weekday","hasDay","past","present","future","getFullYear","getMonth","getDate","getDay","getHours","getMinutes","getDayIdentifier","getTimeIdentifier","getTimestampIdentifier","a","b","isTimedless","updateHasTime","getTime","updateMinutes","minutes","Math","floor","getWeekday","_","k","m","C","Y","padNumber","x","padded","String","str","nextMinutes","nextDay","relativeDays","mover","days","diffMinutes","min","max","M","D","h","maxDays","getWeekdaySkips","skips","filled","i","skip","j","next","timestampToDate","createDayList","weekdaySkips","stop","current","currentIdentifier","stopped","push","createIntervalList","first","count","intervals","mins","int","createNativeLocaleFormatter","locale","getOptions","emptyFormatter","_t","_s","Intl","DateTimeFormat","short","intlFormatter","format","e"],"sources":["../../../../src/components/VCalendar/util/timestamp.ts"],"sourcesContent":["import { CalendarTimestamp, CalendarFormatter } from 'vuetify/types'\nimport { isLeapYear } from '../../../util/dateTimeUtils'\n\nexport const PARSE_REGEX = /^(\\d{4})-(\\d{1,2})(-(\\d{1,2}))?([^\\d]+(\\d{1,2}))?(:(\\d{1,2}))?(:(\\d{1,2}))?$/\nexport const PARSE_TIME = /(\\d\\d?)(:(\\d\\d?)|)(:(\\d\\d?)|)/\n\nexport const DAYS_IN_MONTH: number[] = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\nexport const DAYS_IN_MONTH_LEAP: number[] = [0, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\nexport const DAYS_IN_MONTH_MIN = 28\nexport const DAYS_IN_MONTH_MAX = 31\nexport const MONTH_MAX = 12\nexport const MONTH_MIN = 1\nexport const DAY_MIN = 1\nexport const DAYS_IN_WEEK = 7\nexport const MINUTES_IN_HOUR = 60\nexport const MINUTE_MAX = 59\nexport const MINUTES_IN_DAY = 24 * 60\nexport const HOURS_IN_DAY = 24\nexport const HOUR_MAX = 23\nexport const FIRST_HOUR = 0\nexport const OFFSET_YEAR = 10000\nexport const OFFSET_MONTH = 100\nexport const OFFSET_HOUR = 100\nexport const OFFSET_TIME = 10000\n\ntype CalendarTimestampFormatOptions = (timestamp: CalendarTimestamp, short: boolean) => object\ntype CalendarTimestampOperation = (timestamp: CalendarTimestamp) => CalendarTimestamp\nexport type VTime = number | string | {\n  hour: number\n  minute: number\n}\n\nexport type VTimestampInput = number | string | Date;\n\nexport function getStartOfWeek (timestamp: CalendarTimestamp, weekdays: number[], today?: CalendarTimestamp): CalendarTimestamp {\n  const start = copyTimestamp(timestamp)\n  findWeekday(start, weekdays[0], prevDay)\n  updateFormatted(start)\n  if (today) {\n    updateRelative(start, today, start.hasTime)\n  }\n\n  return start\n}\n\nexport function getEndOfWeek (timestamp: CalendarTimestamp, weekdays: number[], today?: CalendarTimestamp): CalendarTimestamp {\n  const end = copyTimestamp(timestamp)\n  findWeekday(end, weekdays[weekdays.length - 1])\n  updateFormatted(end)\n  if (today) {\n    updateRelative(end, today, end.hasTime)\n  }\n\n  return end\n}\n\nexport function getStartOfMonth (timestamp: CalendarTimestamp): CalendarTimestamp {\n  const start = copyTimestamp(timestamp)\n  start.day = DAY_MIN\n  updateWeekday(start)\n  updateFormatted(start)\n\n  return start\n}\n\nexport function getEndOfMonth (timestamp: CalendarTimestamp): CalendarTimestamp {\n  const end = copyTimestamp(timestamp)\n  end.day = daysInMonth(end.year, end.month)\n  updateWeekday(end)\n  updateFormatted(end)\n\n  return end\n}\n\nexport function validateTime (input: any): input is VTime {\n  return (typeof input === 'number' && isFinite(input)) ||\n    (!!PARSE_TIME.exec(input)) ||\n    (typeof input === 'object' && isFinite(input.hour) && isFinite(input.minute))\n}\n\nexport function parseTime (input: any): number | false {\n  if (typeof input === 'number') {\n    // when a number is given, it's minutes since 12:00am\n    return input\n  } else if (typeof input === 'string') {\n    // when a string is given, it's a hh:mm:ss format where seconds are optional\n    const parts = PARSE_TIME.exec(input)\n    if (!parts) {\n      return false\n    }\n\n    return parseInt(parts[1]) * 60 + parseInt(parts[3] || 0)\n  } else if (typeof input === 'object') {\n    // when an object is given, it must have hour and minute\n    if (typeof input.hour !== 'number' || typeof input.minute !== 'number') {\n      return false\n    }\n\n    return input.hour * 60 + input.minute\n  } else {\n    // unsupported type\n    return false\n  }\n}\n\nexport function validateTimestamp (input: any): input is VTimestampInput {\n  return (typeof input === 'number' && isFinite(input)) ||\n    (typeof input === 'string' && !!PARSE_REGEX.exec(input)) ||\n    (input instanceof Date)\n}\n\nexport function parseTimestamp (input: VTimestampInput, required?: false, now?: CalendarTimestamp): CalendarTimestamp | null\nexport function parseTimestamp (input: VTimestampInput, required: true, now?: CalendarTimestamp): CalendarTimestamp\nexport function parseTimestamp (input: VTimestampInput, required = false, now?: CalendarTimestamp): CalendarTimestamp | null {\n  if (typeof input === 'number' && isFinite(input)) {\n    input = new Date(input)\n  }\n\n  if (input instanceof Date) {\n    const date: CalendarTimestamp = parseDate(input)\n\n    if (now) {\n      updateRelative(date, now, date.hasTime)\n    }\n\n    return date\n  }\n\n  if (typeof input !== 'string') {\n    if (required) {\n      throw new Error(`${input} is not a valid timestamp. It must be a Date, number of milliseconds since Epoch, or a string in the format of YYYY-MM-DD or YYYY-MM-DD hh:mm. Zero-padding is optional and seconds are ignored.`)\n    }\n    return null\n  }\n\n  // YYYY-MM-DD hh:mm:ss\n  const parts = PARSE_REGEX.exec(input)\n\n  if (!parts) {\n    if (required) {\n      throw new Error(`${input} is not a valid timestamp. It must be a Date, number of milliseconds since Epoch, or a string in the format of YYYY-MM-DD or YYYY-MM-DD hh:mm. Zero-padding is optional and seconds are ignored.`)\n    }\n\n    return null\n  }\n\n  const timestamp: CalendarTimestamp = {\n    date: input,\n    time: '',\n    year: parseInt(parts[1]),\n    month: parseInt(parts[2]),\n    day: parseInt(parts[4]) || 1,\n    hour: parseInt(parts[6]) || 0,\n    minute: parseInt(parts[8]) || 0,\n    weekday: 0,\n    hasDay: !!parts[4],\n    hasTime: !!(parts[6] && parts[8]),\n    past: false,\n    present: false,\n    future: false,\n  }\n\n  updateWeekday(timestamp)\n  updateFormatted(timestamp)\n\n  if (now) {\n    updateRelative(timestamp, now, timestamp.hasTime)\n  }\n\n  return timestamp\n}\n\nexport function parseDate (date: Date): CalendarTimestamp {\n  return updateFormatted({\n    date: '',\n    time: '',\n    year: date.getFullYear(),\n    month: date.getMonth() + 1,\n    day: date.getDate(),\n    weekday: date.getDay(),\n    hour: date.getHours(),\n    minute: date.getMinutes(),\n    hasDay: true,\n    hasTime: true,\n    past: false,\n    present: true,\n    future: false,\n  })\n}\n\nexport function getDayIdentifier (timestamp: { year: number, month: number, day: number }): number {\n  return timestamp.year * OFFSET_YEAR + timestamp.month * OFFSET_MONTH + timestamp.day\n}\n\nexport function getTimeIdentifier (timestamp: { hour: number, minute: number }): number {\n  return timestamp.hour * OFFSET_HOUR + timestamp.minute\n}\n\nexport function getTimestampIdentifier (timestamp: CalendarTimestamp): number {\n  return getDayIdentifier(timestamp) * OFFSET_TIME + getTimeIdentifier(timestamp)\n}\n\nexport function updateRelative (timestamp: CalendarTimestamp, now: CalendarTimestamp, time = false): CalendarTimestamp {\n  let a = getDayIdentifier(now)\n  let b = getDayIdentifier(timestamp)\n  let present = a === b\n\n  if (timestamp.hasTime && time && present) {\n    a = getTimeIdentifier(now)\n    b = getTimeIdentifier(timestamp)\n    present = a === b\n  }\n\n  timestamp.past = b < a\n  timestamp.present = present\n  timestamp.future = b > a\n\n  return timestamp\n}\n\nexport function isTimedless (input: VTimestampInput): input is (Date | number) {\n  return (input instanceof Date) || (typeof input === 'number' && isFinite(input))\n}\n\nexport function updateHasTime (timestamp: CalendarTimestamp, hasTime: boolean, now?: CalendarTimestamp): CalendarTimestamp {\n  if (timestamp.hasTime !== hasTime) {\n    timestamp.hasTime = hasTime\n    if (!hasTime) {\n      timestamp.hour = HOUR_MAX\n      timestamp.minute = MINUTE_MAX\n      timestamp.time = getTime(timestamp)\n    }\n    if (now) {\n      updateRelative(timestamp, now, timestamp.hasTime)\n    }\n  }\n\n  return timestamp\n}\n\nexport function updateMinutes (timestamp: CalendarTimestamp, minutes: number, now?: CalendarTimestamp): CalendarTimestamp {\n  timestamp.hasTime = true\n  timestamp.hour = Math.floor(minutes / MINUTES_IN_HOUR)\n  timestamp.minute = minutes % MINUTES_IN_HOUR\n  timestamp.time = getTime(timestamp)\n  if (now) {\n    updateRelative(timestamp, now, true)\n  }\n\n  return timestamp\n}\n\nexport function updateWeekday (timestamp: CalendarTimestamp): CalendarTimestamp {\n  timestamp.weekday = getWeekday(timestamp)\n\n  return timestamp\n}\n\nexport function updateFormatted (timestamp: CalendarTimestamp): CalendarTimestamp {\n  timestamp.time = getTime(timestamp)\n  timestamp.date = getDate(timestamp)\n\n  return timestamp\n}\n\nexport function getWeekday (timestamp: CalendarTimestamp): number {\n  if (timestamp.hasDay) {\n    const _ = Math.floor\n    const k = timestamp.day\n    const m = ((timestamp.month + 9) % MONTH_MAX) + 1\n    const C = _(timestamp.year / 100)\n    const Y = (timestamp.year % 100) - (timestamp.month <= 2 ? 1 : 0)\n\n    return (((k + _(2.6 * m - 0.2) - 2 * C + Y + _(Y / 4) + _(C / 4)) % 7) + 7) % 7\n  }\n\n  return timestamp.weekday\n}\n\nexport function daysInMonth (year: number, month: number) {\n  return isLeapYear(year) ? DAYS_IN_MONTH_LEAP[month] : DAYS_IN_MONTH[month]\n}\n\nexport function copyTimestamp (timestamp: CalendarTimestamp): CalendarTimestamp {\n  const { date, time, year, month, day, weekday, hour, minute, hasDay, hasTime, past, present, future } = timestamp\n\n  return { date, time, year, month, day, weekday, hour, minute, hasDay, hasTime, past, present, future }\n}\n\nexport function padNumber (x: number, length: number): string {\n  let padded = String(x)\n  while (padded.length < length) {\n    padded = '0' + padded\n  }\n\n  return padded\n}\n\nexport function getDate (timestamp: CalendarTimestamp): string {\n  let str = `${padNumber(timestamp.year, 4)}-${padNumber(timestamp.month, 2)}`\n\n  if (timestamp.hasDay) str += `-${padNumber(timestamp.day, 2)}`\n\n  return str\n}\n\nexport function getTime (timestamp: CalendarTimestamp): string {\n  if (!timestamp.hasTime) {\n    return ''\n  }\n\n  return `${padNumber(timestamp.hour, 2)}:${padNumber(timestamp.minute, 2)}`\n}\n\nexport function nextMinutes (timestamp: CalendarTimestamp, minutes: number): CalendarTimestamp {\n  timestamp.minute += minutes\n  while (timestamp.minute > MINUTES_IN_HOUR) {\n    timestamp.minute -= MINUTES_IN_HOUR\n    timestamp.hour++\n    if (timestamp.hour >= HOURS_IN_DAY) {\n      nextDay(timestamp)\n      timestamp.hour = FIRST_HOUR\n    }\n  }\n\n  return timestamp\n}\n\nexport function nextDay (timestamp: CalendarTimestamp): CalendarTimestamp {\n  timestamp.day++\n  timestamp.weekday = (timestamp.weekday + 1) % DAYS_IN_WEEK\n  if (timestamp.day > DAYS_IN_MONTH_MIN && timestamp.day > daysInMonth(timestamp.year, timestamp.month)) {\n    timestamp.day = DAY_MIN\n    timestamp.month++\n    if (timestamp.month > MONTH_MAX) {\n      timestamp.month = MONTH_MIN\n      timestamp.year++\n    }\n  }\n\n  return timestamp\n}\n\nexport function prevDay (timestamp: CalendarTimestamp): CalendarTimestamp {\n  timestamp.day--\n  timestamp.weekday = (timestamp.weekday + 6) % DAYS_IN_WEEK\n  if (timestamp.day < DAY_MIN) {\n    timestamp.month--\n    if (timestamp.month < MONTH_MIN) {\n      timestamp.year--\n      timestamp.month = MONTH_MAX\n    }\n    timestamp.day = daysInMonth(timestamp.year, timestamp.month)\n  }\n\n  return timestamp\n}\n\nexport function relativeDays (\n  timestamp: CalendarTimestamp,\n  mover: CalendarTimestampOperation = nextDay,\n  days = 1\n): CalendarTimestamp {\n  while (--days >= 0) mover(timestamp)\n\n  return timestamp\n}\n\nexport function diffMinutes (min: CalendarTimestamp, max: CalendarTimestamp) {\n  const Y = (max.year - min.year) * 525600\n  const M = (max.month - min.month) * 43800\n  const D = (max.day - min.day) * 1440\n  const h = (max.hour - min.hour) * 60\n  const m = (max.minute - min.minute)\n\n  return Y + M + D + h + m\n}\n\nexport function findWeekday (timestamp: CalendarTimestamp, weekday: number,\n  mover: CalendarTimestampOperation = nextDay, maxDays = 6): CalendarTimestamp {\n  while (timestamp.weekday !== weekday && --maxDays >= 0) mover(timestamp)\n\n  return timestamp\n}\n\nexport function getWeekdaySkips (weekdays: number[]): number[] {\n  const skips: number[] = [1, 1, 1, 1, 1, 1, 1]\n  const filled: number[] = [0, 0, 0, 0, 0, 0, 0]\n  for (let i = 0; i < weekdays.length; i++) {\n    filled[weekdays[i]] = 1\n  }\n  for (let k = 0; k < DAYS_IN_WEEK; k++) {\n    let skip = 1\n    for (let j = 1; j < DAYS_IN_WEEK; j++) {\n      const next = (k + j) % DAYS_IN_WEEK\n      if (filled[next]) {\n        break\n      }\n      skip++\n    }\n    skips[k] = filled[k] * skip\n  }\n\n  return skips\n}\n\nexport function timestampToDate (timestamp: CalendarTimestamp): Date {\n  const time = `${padNumber(timestamp.hour, 2)}:${padNumber(timestamp.minute, 2)}`\n  const date = timestamp.date\n\n  return new Date(`${date}T${time}:00+00:00`)\n}\n\nexport function createDayList (\n  start: CalendarTimestamp,\n  end: CalendarTimestamp,\n  now: CalendarTimestamp,\n  weekdaySkips: number[],\n  max = 42,\n  min = 0\n): CalendarTimestamp[] {\n  const stop = getDayIdentifier(end)\n  const days: CalendarTimestamp[] = []\n  let current = copyTimestamp(start)\n  let currentIdentifier = 0\n  let stopped = currentIdentifier === stop\n\n  if (stop < getDayIdentifier(start)) {\n    throw new Error('End date is earlier than start date.')\n  }\n\n  while ((!stopped || days.length < min) && days.length < max) {\n    currentIdentifier = getDayIdentifier(current)\n    stopped = stopped || currentIdentifier === stop\n    if (weekdaySkips[current.weekday] === 0) {\n      current = nextDay(current)\n      continue\n    }\n    const day = copyTimestamp(current)\n    updateFormatted(day)\n    updateRelative(day, now)\n    days.push(day)\n    current = relativeDays(current, nextDay, weekdaySkips[current.weekday])\n  }\n\n  if (!days.length) throw new Error('No dates found using specified start date, end date, and weekdays.')\n\n  return days\n}\n\nexport function createIntervalList (timestamp: CalendarTimestamp, first: number,\n  minutes: number, count: number, now?: CalendarTimestamp): CalendarTimestamp[] {\n  const intervals: CalendarTimestamp[] = []\n\n  for (let i = 0; i < count; i++) {\n    const mins = first + (i * minutes)\n    const int = copyTimestamp(timestamp)\n    intervals.push(updateMinutes(int, mins, now))\n  }\n\n  return intervals\n}\n\nexport function createNativeLocaleFormatter (locale: string, getOptions: CalendarTimestampFormatOptions): CalendarFormatter {\n  const emptyFormatter: CalendarFormatter = (_t, _s) => ''\n\n  if (typeof Intl === 'undefined' || typeof Intl.DateTimeFormat === 'undefined') {\n    return emptyFormatter\n  }\n\n  return (timestamp, short) => {\n    try {\n      const intlFormatter = new Intl.DateTimeFormat(locale || undefined, getOptions(timestamp, short))\n\n      return intlFormatter.format(timestampToDate(timestamp))\n    } catch (e) {\n      return ''\n    }\n  }\n}\n"],"mappings":";;;;;;;;AACA,SAASA,UAAT,QAA2B,6BAA3B;AAEA,OAAO,IAAMC,WAAW,GAAG,8EAApB;AACP,OAAO,IAAMC,UAAU,GAAG,+BAAnB;AAEP,OAAO,IAAMC,aAAa,GAAa,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,EAAwB,EAAxB,EAA4B,EAA5B,EAAgC,EAAhC,EAAoC,EAApC,EAAwC,EAAxC,EAA4C,EAA5C,EAAgD,EAAhD,CAAhC;AACP,OAAO,IAAMC,kBAAkB,GAAa,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,EAAwB,EAAxB,EAA4B,EAA5B,EAAgC,EAAhC,EAAoC,EAApC,EAAwC,EAAxC,EAA4C,EAA5C,EAAgD,EAAhD,CAArC;AACP,OAAO,IAAMC,iBAAiB,GAAG,EAA1B;AACP,OAAO,IAAMC,iBAAiB,GAAG,EAA1B;AACP,OAAO,IAAMC,SAAS,GAAG,EAAlB;AACP,OAAO,IAAMC,SAAS,GAAG,CAAlB;AACP,OAAO,IAAMC,OAAO,GAAG,CAAhB;AACP,OAAO,IAAMC,YAAY,GAAG,CAArB;AACP,OAAO,IAAMC,eAAe,GAAG,EAAxB;AACP,OAAO,IAAMC,UAAU,GAAG,EAAnB;AACP,OAAO,IAAMC,cAAc,GAAG,KAAK,EAA5B;AACP,OAAO,IAAMC,YAAY,GAAG,EAArB;AACP,OAAO,IAAMC,QAAQ,GAAG,EAAjB;AACP,OAAO,IAAMC,UAAU,GAAG,CAAnB;AACP,OAAO,IAAMC,WAAW,GAAG,KAApB;AACP,OAAO,IAAMC,YAAY,GAAG,GAArB;AACP,OAAO,IAAMC,WAAW,GAAG,GAApB;AACP,OAAO,IAAMC,WAAW,GAAG,KAApB;AAWP,OAAM,SAAUC,cAAVA,CAA0BC,SAA1B,EAAwDC,QAAxD,EAA4EC,KAA5E,EAAqG;EACzG,IAAMC,KAAK,GAAGC,aAAa,CAACJ,SAAD,CAA3B;EACAK,WAAW,CAACF,KAAD,EAAQF,QAAQ,CAAC,CAAD,CAAhB,EAAqBK,OAArB,CAAX;EACAC,eAAe,CAACJ,KAAD,CAAf;EACA,IAAID,KAAJ,EAAW;IACTM,cAAc,CAACL,KAAD,EAAQD,KAAR,EAAeC,KAAK,CAACM,OAArB,CAAd;EACD;EAED,OAAON,KAAP;AACD;AAED,OAAM,SAAUO,YAAVA,CAAwBV,SAAxB,EAAsDC,QAAtD,EAA0EC,KAA1E,EAAmG;EACvG,IAAMS,GAAG,GAAGP,aAAa,CAACJ,SAAD,CAAzB;EACAK,WAAW,CAACM,GAAD,EAAMV,QAAQ,CAACA,QAAQ,CAACW,MAAT,GAAkB,CAAnB,CAAd,CAAX;EACAL,eAAe,CAACI,GAAD,CAAf;EACA,IAAIT,KAAJ,EAAW;IACTM,cAAc,CAACG,GAAD,EAAMT,KAAN,EAAaS,GAAG,CAACF,OAAjB,CAAd;EACD;EAED,OAAOE,GAAP;AACD;AAED,OAAM,SAAUE,eAAVA,CAA2Bb,SAA3B,EAAuD;EAC3D,IAAMG,KAAK,GAAGC,aAAa,CAACJ,SAAD,CAA3B;EACAG,KAAK,CAACW,GAAN,GAAY3B,OAAZ;EACA4B,aAAa,CAACZ,KAAD,CAAb;EACAI,eAAe,CAACJ,KAAD,CAAf;EAEA,OAAOA,KAAP;AACD;AAED,OAAM,SAAUa,aAAVA,CAAyBhB,SAAzB,EAAqD;EACzD,IAAMW,GAAG,GAAGP,aAAa,CAACJ,SAAD,CAAzB;EACAW,GAAG,CAACG,GAAJ,GAAUG,WAAW,CAACN,GAAG,CAACO,IAAL,EAAWP,GAAG,CAACQ,KAAf,CAArB;EACAJ,aAAa,CAACJ,GAAD,CAAb;EACAJ,eAAe,CAACI,GAAD,CAAf;EAEA,OAAOA,GAAP;AACD;AAED,OAAM,SAAUS,YAAVA,CAAwBC,KAAxB,EAAkC;EACtC,OAAQ,OAAOA,KAAP,KAAiB,QAAjB,IAA6BC,QAAQ,CAACD,KAAD,CAAtC,IACJ,CAAC,CAACzC,UAAU,CAAC2C,IAAX,CAAgBF,KAAhB,CADE,IAEJG,OAAA,CAAOH,KAAP,MAAiB,QAAjB,IAA6BC,QAAQ,CAACD,KAAK,CAACI,IAAP,CAArC,IAAqDH,QAAQ,CAACD,KAAK,CAACK,MAAP,CAFhE;AAGD;AAED,OAAM,SAAUC,SAAVA,CAAqBN,KAArB,EAA+B;EACnC,IAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;IAC7B;IACA,OAAOA,KAAP;EACD,CAHD,MAGO,IAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;IACpC;IACA,IAAMO,KAAK,GAAGhD,UAAU,CAAC2C,IAAX,CAAgBF,KAAhB,CAAd;IACA,IAAI,CAACO,KAAL,EAAY;MACV,OAAO,KAAP;IACD;IAED,OAAOC,QAAQ,CAACD,KAAK,CAAC,CAAD,CAAN,CAAR,GAAqB,EAArB,GAA0BC,QAAQ,CAACD,KAAK,CAAC,CAAD,CAAL,IAAY,CAAb,CAAzC;EACD,CARM,MAQA,IAAIJ,OAAA,CAAOH,KAAP,MAAiB,QAArB,EAA+B;IACpC;IACA,IAAI,OAAOA,KAAK,CAACI,IAAb,KAAsB,QAAtB,IAAkC,OAAOJ,KAAK,CAACK,MAAb,KAAwB,QAA9D,EAAwE;MACtE,OAAO,KAAP;IACD;IAED,OAAOL,KAAK,CAACI,IAAN,GAAa,EAAb,GAAkBJ,KAAK,CAACK,MAA/B;EACD,CAPM,MAOA;IACL;IACA,OAAO,KAAP;EACD;AACF;AAED,OAAM,SAAUI,iBAAVA,CAA6BT,KAA7B,EAAuC;EAC3C,OAAQ,OAAOA,KAAP,KAAiB,QAAjB,IAA6BC,QAAQ,CAACD,KAAD,CAAtC,IACJ,OAAOA,KAAP,KAAiB,QAAjB,IAA6B,CAAC,CAAC1C,WAAW,CAAC4C,IAAZ,CAAiBF,KAAjB,CAD3B,IAEJA,KAAK,YAAYU,IAFpB;AAGD;AAID,OAAM,SAAUC,cAAVA,CAA0BX,KAA1B,EAA2F;EAAA,IAAzCY,QAAQ,GAAAC,SAAA,CAAAtB,MAAA,QAAAsB,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,KAA7D;EAAA,IAAoEE,GAApE,GAAAF,SAAA,CAAAtB,MAAA,OAAAsB,SAAA,MAAAC,SAAA;EACJ,IAAI,OAAOd,KAAP,KAAiB,QAAjB,IAA6BC,QAAQ,CAACD,KAAD,CAAzC,EAAkD;IAChDA,KAAK,GAAG,IAAIU,IAAJ,CAASV,KAAT,CAAR;EACD;EAED,IAAIA,KAAK,YAAYU,IAArB,EAA2B;IACzB,IAAMM,IAAI,GAAsBC,SAAS,CAACjB,KAAD,CAAzC;IAEA,IAAIe,GAAJ,EAAS;MACP5B,cAAc,CAAC6B,IAAD,EAAOD,GAAP,EAAYC,IAAI,CAAC5B,OAAjB,CAAd;IACD;IAED,OAAO4B,IAAP;EACD;EAED,IAAI,OAAOhB,KAAP,KAAiB,QAArB,EAA+B;IAC7B,IAAIY,QAAJ,EAAc;MACZ,MAAM,IAAIM,KAAJ,IAAAC,MAAA,CAAanB,KAAK,qMAAlB,CAAN;IACD;IACD,OAAO,IAAP;EACD,CApB8F,CAsB/F;;EACA,IAAMO,KAAK,GAAGjD,WAAW,CAAC4C,IAAZ,CAAiBF,KAAjB,CAAd;EAEA,IAAI,CAACO,KAAL,EAAY;IACV,IAAIK,QAAJ,EAAc;MACZ,MAAM,IAAIM,KAAJ,IAAAC,MAAA,CAAanB,KAAK,qMAAlB,CAAN;IACD;IAED,OAAO,IAAP;EACD;EAED,IAAMrB,SAAS,GAAsB;IACnCqC,IAAI,EAAEhB,KAD6B;IAEnCoB,IAAI,EAAE,EAF6B;IAGnCvB,IAAI,EAAEW,QAAQ,CAACD,KAAK,CAAC,CAAD,CAAN,CAHqB;IAInCT,KAAK,EAAEU,QAAQ,CAACD,KAAK,CAAC,CAAD,CAAN,CAJoB;IAKnCd,GAAG,EAAEe,QAAQ,CAACD,KAAK,CAAC,CAAD,CAAN,CAAR,IAAsB,CALQ;IAMnCH,IAAI,EAAEI,QAAQ,CAACD,KAAK,CAAC,CAAD,CAAN,CAAR,IAAsB,CANO;IAOnCF,MAAM,EAAEG,QAAQ,CAACD,KAAK,CAAC,CAAD,CAAN,CAAR,IAAsB,CAPK;IAQnCc,OAAO,EAAE,CAR0B;IASnCC,MAAM,EAAE,CAAC,CAACf,KAAK,CAAC,CAAD,CAToB;IAUnCnB,OAAO,EAAE,CAAC,EAAEmB,KAAK,CAAC,CAAD,CAAL,IAAYA,KAAK,CAAC,CAAD,CAAnB,CAVyB;IAWnCgB,IAAI,EAAE,KAX6B;IAYnCC,OAAO,EAAE,KAZ0B;IAanCC,MAAM,EAAE;EAb2B,CAArC;EAgBA/B,aAAa,CAACf,SAAD,CAAb;EACAO,eAAe,CAACP,SAAD,CAAf;EAEA,IAAIoC,GAAJ,EAAS;IACP5B,cAAc,CAACR,SAAD,EAAYoC,GAAZ,EAAiBpC,SAAS,CAACS,OAA3B,CAAd;EACD;EAED,OAAOT,SAAP;AACD;AAED,OAAM,SAAUsC,SAAVA,CAAqBD,IAArB,EAA+B;EACnC,OAAO9B,eAAe,CAAC;IACrB8B,IAAI,EAAE,EADe;IAErBI,IAAI,EAAE,EAFe;IAGrBvB,IAAI,EAAEmB,IAAI,CAACU,WAAL,EAHe;IAIrB5B,KAAK,EAAEkB,IAAI,CAACW,QAAL,KAAkB,CAJJ;IAKrBlC,GAAG,EAAEuB,IAAI,CAACY,OAAL,EALgB;IAMrBP,OAAO,EAAEL,IAAI,CAACa,MAAL,EANY;IAOrBzB,IAAI,EAAEY,IAAI,CAACc,QAAL,EAPe;IAQrBzB,MAAM,EAAEW,IAAI,CAACe,UAAL,EARa;IASrBT,MAAM,EAAE,IATa;IAUrBlC,OAAO,EAAE,IAVY;IAWrBmC,IAAI,EAAE,KAXe;IAYrBC,OAAO,EAAE,IAZY;IAarBC,MAAM,EAAE;EAba,CAAD,CAAtB;AAeD;AAED,OAAM,SAAUO,gBAAVA,CAA4BrD,SAA5B,EAAmF;EACvF,OAAOA,SAAS,CAACkB,IAAV,GAAiBvB,WAAjB,GAA+BK,SAAS,CAACmB,KAAV,GAAkBvB,YAAjD,GAAgEI,SAAS,CAACc,GAAjF;AACD;AAED,OAAM,SAAUwC,iBAAVA,CAA6BtD,SAA7B,EAAwE;EAC5E,OAAOA,SAAS,CAACyB,IAAV,GAAiB5B,WAAjB,GAA+BG,SAAS,CAAC0B,MAAhD;AACD;AAED,OAAM,SAAU6B,sBAAVA,CAAkCvD,SAAlC,EAA8D;EAClE,OAAOqD,gBAAgB,CAACrD,SAAD,CAAhB,GAA8BF,WAA9B,GAA4CwD,iBAAiB,CAACtD,SAAD,CAApE;AACD;AAED,OAAM,SAAUQ,cAAVA,CAA0BR,SAA1B,EAAwDoC,GAAxD,EAA4F;EAAA,IAAZK,IAAI,GAAAP,SAAA,CAAAtB,MAAA,QAAAsB,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,KAAvF;EACJ,IAAIsB,CAAC,GAAGH,gBAAgB,CAACjB,GAAD,CAAxB;EACA,IAAIqB,CAAC,GAAGJ,gBAAgB,CAACrD,SAAD,CAAxB;EACA,IAAI6C,OAAO,GAAGW,CAAC,KAAKC,CAApB;EAEA,IAAIzD,SAAS,CAACS,OAAV,IAAqBgC,IAArB,IAA6BI,OAAjC,EAA0C;IACxCW,CAAC,GAAGF,iBAAiB,CAAClB,GAAD,CAArB;IACAqB,CAAC,GAAGH,iBAAiB,CAACtD,SAAD,CAArB;IACA6C,OAAO,GAAGW,CAAC,KAAKC,CAAhB;EACD;EAEDzD,SAAS,CAAC4C,IAAV,GAAiBa,CAAC,GAAGD,CAArB;EACAxD,SAAS,CAAC6C,OAAV,GAAoBA,OAApB;EACA7C,SAAS,CAAC8C,MAAV,GAAmBW,CAAC,GAAGD,CAAvB;EAEA,OAAOxD,SAAP;AACD;AAED,OAAM,SAAU0D,WAAVA,CAAuBrC,KAAvB,EAA6C;EACjD,OAAQA,KAAK,YAAYU,IAAlB,IAA4B,OAAOV,KAAP,KAAiB,QAAjB,IAA6BC,QAAQ,CAACD,KAAD,CAAxE;AACD;AAED,OAAM,SAAUsC,aAAVA,CAAyB3D,SAAzB,EAAuDS,OAAvD,EAAyE2B,GAAzE,EAAgG;EACpG,IAAIpC,SAAS,CAACS,OAAV,KAAsBA,OAA1B,EAAmC;IACjCT,SAAS,CAACS,OAAV,GAAoBA,OAApB;IACA,IAAI,CAACA,OAAL,EAAc;MACZT,SAAS,CAACyB,IAAV,GAAiBhC,QAAjB;MACAO,SAAS,CAAC0B,MAAV,GAAmBpC,UAAnB;MACAU,SAAS,CAACyC,IAAV,GAAiBmB,OAAO,CAAC5D,SAAD,CAAxB;IACD;IACD,IAAIoC,GAAJ,EAAS;MACP5B,cAAc,CAACR,SAAD,EAAYoC,GAAZ,EAAiBpC,SAAS,CAACS,OAA3B,CAAd;IACD;EACF;EAED,OAAOT,SAAP;AACD;AAED,OAAM,SAAU6D,aAAVA,CAAyB7D,SAAzB,EAAuD8D,OAAvD,EAAwE1B,GAAxE,EAA+F;EACnGpC,SAAS,CAACS,OAAV,GAAoB,IAApB;EACAT,SAAS,CAACyB,IAAV,GAAiBsC,IAAI,CAACC,KAAL,CAAWF,OAAO,GAAGzE,eAArB,CAAjB;EACAW,SAAS,CAAC0B,MAAV,GAAmBoC,OAAO,GAAGzE,eAA7B;EACAW,SAAS,CAACyC,IAAV,GAAiBmB,OAAO,CAAC5D,SAAD,CAAxB;EACA,IAAIoC,GAAJ,EAAS;IACP5B,cAAc,CAACR,SAAD,EAAYoC,GAAZ,EAAiB,IAAjB,CAAd;EACD;EAED,OAAOpC,SAAP;AACD;AAED,OAAM,SAAUe,aAAVA,CAAyBf,SAAzB,EAAqD;EACzDA,SAAS,CAAC0C,OAAV,GAAoBuB,UAAU,CAACjE,SAAD,CAA9B;EAEA,OAAOA,SAAP;AACD;AAED,OAAM,SAAUO,eAAVA,CAA2BP,SAA3B,EAAuD;EAC3DA,SAAS,CAACyC,IAAV,GAAiBmB,OAAO,CAAC5D,SAAD,CAAxB;EACAA,SAAS,CAACqC,IAAV,GAAiBY,OAAO,CAACjD,SAAD,CAAxB;EAEA,OAAOA,SAAP;AACD;AAED,OAAM,SAAUiE,UAAVA,CAAsBjE,SAAtB,EAAkD;EACtD,IAAIA,SAAS,CAAC2C,MAAd,EAAsB;IACpB,IAAMuB,CAAC,GAAGH,IAAI,CAACC,KAAf;IACA,IAAMG,CAAC,GAAGnE,SAAS,CAACc,GAApB;IACA,IAAMsD,CAAC,GAAI,CAACpE,SAAS,CAACmB,KAAV,GAAkB,CAAnB,IAAwBlC,SAAzB,GAAsC,CAAhD;IACA,IAAMoF,CAAC,GAAGH,CAAC,CAAClE,SAAS,CAACkB,IAAV,GAAiB,GAAlB,CAAX;IACA,IAAMoD,CAAC,GAAItE,SAAS,CAACkB,IAAV,GAAiB,GAAlB,IAA0BlB,SAAS,CAACmB,KAAV,IAAmB,CAAnB,GAAuB,CAAvB,GAA2B,CAArD,CAAV;IAEA,OAAO,CAAE,CAACgD,CAAC,GAAGD,CAAC,CAAC,MAAME,CAAN,GAAU,GAAX,CAAL,GAAuB,IAAIC,CAA3B,GAA+BC,CAA/B,GAAmCJ,CAAC,CAACI,CAAC,GAAG,CAAL,CAApC,GAA8CJ,CAAC,CAACG,CAAC,GAAG,CAAL,CAAhD,IAA2D,CAA5D,GAAiE,CAAlE,IAAuE,CAA9E;EACD;EAED,OAAOrE,SAAS,CAAC0C,OAAjB;AACD;AAED,OAAM,SAAUzB,WAAVA,CAAuBC,IAAvB,EAAqCC,KAArC,EAAkD;EACtD,OAAOzC,UAAU,CAACwC,IAAD,CAAV,GAAmBpC,kBAAkB,CAACqC,KAAD,CAArC,GAA+CtC,aAAa,CAACsC,KAAD,CAAnE;AACD;AAED,OAAM,SAAUf,aAAVA,CAAyBJ,SAAzB,EAAqD;EACzD,IAAQqC,IAAF,GAAkGrC,SAAxG,CAAQqC,IAAF;IAAQI,IAAR,GAAkGzC,SAAxG,CAAcyC,IAAR;IAAcvB,IAAd,GAAkGlB,SAAxG,CAAoBkB,IAAd;IAAoBC,KAApB,GAAkGnB,SAAxG,CAA0BmB,KAApB;IAA2BL,GAA3B,GAAkGd,SAAxG,CAAiCc,GAA3B;IAAgC4B,OAAhC,GAAkG1C,SAAxG,CAAsC0C,OAAhC;IAAyCjB,IAAzC,GAAkGzB,SAAxG,CAA+CyB,IAAzC;IAA+CC,MAA/C,GAAkG1B,SAAxG,CAAqD0B,MAA/C;IAAuDiB,MAAvD,GAAkG3C,SAAxG,CAA6D2C,MAAvD;IAA+DlC,OAA/D,GAAkGT,SAAxG,CAAqES,OAA/D;IAAwEmC,IAAxE,GAAkG5C,SAAxG,CAA8E4C,IAAxE;IAA8EC,OAA9E,GAAkG7C,SAAxG,CAAoF6C,OAA9E;IAAuFC,MAAA,GAAW9C,SAAxG,CAA6F8C,MAAA;EAE7F,OAAO;IAAET,IAAF,EAAEA,IAAF;IAAQI,IAAR,EAAQA,IAAR;IAAcvB,IAAd,EAAcA,IAAd;IAAoBC,KAApB,EAAoBA,KAApB;IAA2BL,GAA3B,EAA2BA,GAA3B;IAAgC4B,OAAhC,EAAgCA,OAAhC;IAAyCjB,IAAzC,EAAyCA,IAAzC;IAA+CC,MAA/C,EAA+CA,MAA/C;IAAuDiB,MAAvD,EAAuDA,MAAvD;IAA+DlC,OAA/D,EAA+DA,OAA/D;IAAwEmC,IAAxE,EAAwEA,IAAxE;IAA8EC,OAA9E,EAA8EA,OAA9E;IAAuFC,MAAA,EAAAA;EAAvF,CAAP;AACD;AAED,OAAM,SAAUyB,SAAVA,CAAqBC,CAArB,EAAgC5D,MAAhC,EAA8C;EAClD,IAAI6D,MAAM,GAAGC,MAAM,CAACF,CAAD,CAAnB;EACA,OAAOC,MAAM,CAAC7D,MAAP,GAAgBA,MAAvB,EAA+B;IAC7B6D,MAAM,GAAG,MAAMA,MAAf;EACD;EAED,OAAOA,MAAP;AACD;AAED,OAAM,SAAUxB,OAAVA,CAAmBjD,SAAnB,EAA+C;EACnD,IAAI2E,GAAG,MAAAnC,MAAA,CAAM+B,SAAS,CAACvE,SAAS,CAACkB,IAAX,EAAiB,CAAjB,CAAmB,OAAAsB,MAAA,CAAI+B,SAAS,CAACvE,SAAS,CAACmB,KAAX,EAAkB,CAAlB,CAAoB,CAA1E;EAEA,IAAInB,SAAS,CAAC2C,MAAd,EAAsBgC,GAAG,QAAAnC,MAAA,CAAQ+B,SAAS,CAACvE,SAAS,CAACc,GAAX,EAAgB,CAAhB,CAAkB,CAAtC;EAEtB,OAAO6D,GAAP;AACD;AAED,OAAM,SAAUf,OAAVA,CAAmB5D,SAAnB,EAA+C;EACnD,IAAI,CAACA,SAAS,CAACS,OAAf,EAAwB;IACtB,OAAO,EAAP;EACD;EAED,UAAA+B,MAAA,CAAU+B,SAAS,CAACvE,SAAS,CAACyB,IAAX,EAAiB,CAAjB,CAAmB,OAAAe,MAAA,CAAI+B,SAAS,CAACvE,SAAS,CAAC0B,MAAX,EAAmB,CAAnB,CAAqB;AACzE;AAED,OAAM,SAAUkD,WAAVA,CAAuB5E,SAAvB,EAAqD8D,OAArD,EAAoE;EACxE9D,SAAS,CAAC0B,MAAV,IAAoBoC,OAApB;EACA,OAAO9D,SAAS,CAAC0B,MAAV,GAAmBrC,eAA1B,EAA2C;IACzCW,SAAS,CAAC0B,MAAV,IAAoBrC,eAApB;IACAW,SAAS,CAACyB,IAAV;IACA,IAAIzB,SAAS,CAACyB,IAAV,IAAkBjC,YAAtB,EAAoC;MAClCqF,OAAO,CAAC7E,SAAD,CAAP;MACAA,SAAS,CAACyB,IAAV,GAAiB/B,UAAjB;IACD;EACF;EAED,OAAOM,SAAP;AACD;AAED,OAAM,SAAU6E,OAAVA,CAAmB7E,SAAnB,EAA+C;EACnDA,SAAS,CAACc,GAAV;EACAd,SAAS,CAAC0C,OAAV,GAAoB,CAAC1C,SAAS,CAAC0C,OAAV,GAAoB,CAArB,IAA0BtD,YAA9C;EACA,IAAIY,SAAS,CAACc,GAAV,GAAgB/B,iBAAhB,IAAqCiB,SAAS,CAACc,GAAV,GAAgBG,WAAW,CAACjB,SAAS,CAACkB,IAAX,EAAiBlB,SAAS,CAACmB,KAA3B,CAApE,EAAuG;IACrGnB,SAAS,CAACc,GAAV,GAAgB3B,OAAhB;IACAa,SAAS,CAACmB,KAAV;IACA,IAAInB,SAAS,CAACmB,KAAV,GAAkBlC,SAAtB,EAAiC;MAC/Be,SAAS,CAACmB,KAAV,GAAkBjC,SAAlB;MACAc,SAAS,CAACkB,IAAV;IACD;EACF;EAED,OAAOlB,SAAP;AACD;AAED,OAAM,SAAUM,OAAVA,CAAmBN,SAAnB,EAA+C;EACnDA,SAAS,CAACc,GAAV;EACAd,SAAS,CAAC0C,OAAV,GAAoB,CAAC1C,SAAS,CAAC0C,OAAV,GAAoB,CAArB,IAA0BtD,YAA9C;EACA,IAAIY,SAAS,CAACc,GAAV,GAAgB3B,OAApB,EAA6B;IAC3Ba,SAAS,CAACmB,KAAV;IACA,IAAInB,SAAS,CAACmB,KAAV,GAAkBjC,SAAtB,EAAiC;MAC/Bc,SAAS,CAACkB,IAAV;MACAlB,SAAS,CAACmB,KAAV,GAAkBlC,SAAlB;IACD;IACDe,SAAS,CAACc,GAAV,GAAgBG,WAAW,CAACjB,SAAS,CAACkB,IAAX,EAAiBlB,SAAS,CAACmB,KAA3B,CAA3B;EACD;EAED,OAAOnB,SAAP;AACD;AAED,OAAM,SAAU8E,YAAVA,CACJ9E,SADI,EAGI;EAAA,IADR+E,KAAA,GAAA7C,SAAA,CAAAtB,MAAA,QAAAsB,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAoC2C,OAFhC;EAAA,IAGJG,IAAI,GAAA9C,SAAA,CAAAtB,MAAA,QAAAsB,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAHH;EAKJ,OAAO,EAAE8C,IAAF,IAAU,CAAjB,EAAoBD,KAAK,CAAC/E,SAAD,CAAL;EAEpB,OAAOA,SAAP;AACD;AAED,OAAM,SAAUiF,WAAVA,CAAuBC,GAAvB,EAA+CC,GAA/C,EAAqE;EACzE,IAAMb,CAAC,GAAG,CAACa,GAAG,CAACjE,IAAJ,GAAWgE,GAAG,CAAChE,IAAhB,IAAwB,MAAlC;EACA,IAAMkE,CAAC,GAAG,CAACD,GAAG,CAAChE,KAAJ,GAAY+D,GAAG,CAAC/D,KAAjB,IAA0B,KAApC;EACA,IAAMkE,CAAC,GAAG,CAACF,GAAG,CAACrE,GAAJ,GAAUoE,GAAG,CAACpE,GAAf,IAAsB,IAAhC;EACA,IAAMwE,CAAC,GAAG,CAACH,GAAG,CAAC1D,IAAJ,GAAWyD,GAAG,CAACzD,IAAhB,IAAwB,EAAlC;EACA,IAAM2C,CAAC,GAAIe,GAAG,CAACzD,MAAJ,GAAawD,GAAG,CAACxD,MAA5B;EAEA,OAAO4C,CAAC,GAAGc,CAAJ,GAAQC,CAAR,GAAYC,CAAZ,GAAgBlB,CAAvB;AACD;AAED,OAAM,SAAU/D,WAAVA,CAAuBL,SAAvB,EAAqD0C,OAArD,EACoD;EAAA,IAAxDqC,KAAA,GAAA7C,SAAA,CAAAtB,MAAA,QAAAsB,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAoC2C,OADhC;EAAA,IACyCU,OAAO,GAAArD,SAAA,CAAAtB,MAAA,QAAAsB,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CADnD;EAEJ,OAAOlC,SAAS,CAAC0C,OAAV,KAAsBA,OAAtB,IAAiC,EAAE6C,OAAF,IAAa,CAArD,EAAwDR,KAAK,CAAC/E,SAAD,CAAL;EAExD,OAAOA,SAAP;AACD;AAED,OAAM,SAAUwF,eAAVA,CAA2BvF,QAA3B,EAA6C;EACjD,IAAMwF,KAAK,GAAa,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAAxB;EACA,IAAMC,MAAM,GAAa,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAAzB;EACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG1F,QAAQ,CAACW,MAA7B,EAAqC+E,CAAC,EAAtC,EAA0C;IACxCD,MAAM,CAACzF,QAAQ,CAAC0F,CAAD,CAAT,CAAN,GAAsB,CAAtB;EACD;EACD,KAAK,IAAIxB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG/E,YAApB,EAAkC+E,CAAC,EAAnC,EAAuC;IACrC,IAAIyB,IAAI,GAAG,CAAX;IACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGzG,YAApB,EAAkCyG,CAAC,EAAnC,EAAuC;MACrC,IAAMC,IAAI,GAAG,CAAC3B,CAAC,GAAG0B,CAAL,IAAUzG,YAAvB;MACA,IAAIsG,MAAM,CAACI,IAAD,CAAV,EAAkB;QAChB;MACD;MACDF,IAAI;IACL;IACDH,KAAK,CAACtB,CAAD,CAAL,GAAWuB,MAAM,CAACvB,CAAD,CAAN,GAAYyB,IAAvB;EACD;EAED,OAAOH,KAAP;AACD;AAED,OAAM,SAAUM,eAAVA,CAA2B/F,SAA3B,EAAuD;EAC3D,IAAMyC,IAAI,MAAAD,MAAA,CAAM+B,SAAS,CAACvE,SAAS,CAACyB,IAAX,EAAiB,CAAjB,CAAmB,OAAAe,MAAA,CAAI+B,SAAS,CAACvE,SAAS,CAAC0B,MAAX,EAAmB,CAAnB,CAAqB,CAA9E;EACA,IAAMW,IAAI,GAAGrC,SAAS,CAACqC,IAAvB;EAEA,OAAO,IAAIN,IAAJ,IAAAS,MAAA,CAAYH,IAAI,OAAAG,MAAA,CAAIC,IAAI,cAAxB,CAAP;AACD;AAED,OAAM,SAAUuD,aAAVA,CACJ7F,KADI,EAEJQ,GAFI,EAGJyB,GAHI,EAIJ6D,YAJI,EAMG;EAAA,IADPd,GAAG,GAAAjD,SAAA,CAAAtB,MAAA,QAAAsB,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,EALF;EAAA,IAMJgD,GAAG,GAAAhD,SAAA,CAAAtB,MAAA,QAAAsB,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CANF;EAQJ,IAAMgE,IAAI,GAAG7C,gBAAgB,CAAC1C,GAAD,CAA7B;EACA,IAAMqE,IAAI,GAAwB,EAAlC;EACA,IAAImB,OAAO,GAAG/F,aAAa,CAACD,KAAD,CAA3B;EACA,IAAIiG,iBAAiB,GAAG,CAAxB;EACA,IAAIC,OAAO,GAAGD,iBAAiB,KAAKF,IAApC;EAEA,IAAIA,IAAI,GAAG7C,gBAAgB,CAAClD,KAAD,CAA3B,EAAoC;IAClC,MAAM,IAAIoC,KAAJ,CAAU,sCAAV,CAAN;EACD;EAED,OAAO,CAAC,CAAC8D,OAAD,IAAYrB,IAAI,CAACpE,MAAL,GAAcsE,GAA3B,KAAmCF,IAAI,CAACpE,MAAL,GAAcuE,GAAxD,EAA6D;IAC3DiB,iBAAiB,GAAG/C,gBAAgB,CAAC8C,OAAD,CAApC;IACAE,OAAO,GAAGA,OAAO,IAAID,iBAAiB,KAAKF,IAA3C;IACA,IAAID,YAAY,CAACE,OAAO,CAACzD,OAAT,CAAZ,KAAkC,CAAtC,EAAyC;MACvCyD,OAAO,GAAGtB,OAAO,CAACsB,OAAD,CAAjB;MACA;IACD;IACD,IAAMrF,GAAG,GAAGV,aAAa,CAAC+F,OAAD,CAAzB;IACA5F,eAAe,CAACO,GAAD,CAAf;IACAN,cAAc,CAACM,GAAD,EAAMsB,GAAN,CAAd;IACA4C,IAAI,CAACsB,IAAL,CAAUxF,GAAV;IACAqF,OAAO,GAAGrB,YAAY,CAACqB,OAAD,EAAUtB,OAAV,EAAmBoB,YAAY,CAACE,OAAO,CAACzD,OAAT,CAA/B,CAAtB;EACD;EAED,IAAI,CAACsC,IAAI,CAACpE,MAAV,EAAkB,MAAM,IAAI2B,KAAJ,CAAU,oEAAV,CAAN;EAElB,OAAOyC,IAAP;AACD;AAED,OAAM,SAAUuB,kBAAVA,CAA8BvG,SAA9B,EAA4DwG,KAA5D,EACJ1C,OADI,EACa2C,KADb,EAC4BrE,GAD5B,EACmD;EACvD,IAAMsE,SAAS,GAAwB,EAAvC;EAEA,KAAK,IAAIf,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGc,KAApB,EAA2Bd,CAAC,EAA5B,EAAgC;IAC9B,IAAMgB,IAAI,GAAGH,KAAK,GAAIb,CAAC,GAAG7B,OAA1B;IACA,IAAM8C,IAAG,GAAGxG,aAAa,CAACJ,SAAD,CAAzB;IACA0G,SAAS,CAACJ,IAAV,CAAezC,aAAa,CAAC+C,IAAD,EAAMD,IAAN,EAAYvE,GAAZ,CAA5B;EACD;EAED,OAAOsE,SAAP;AACD;AAED,OAAM,SAAUG,2BAAVA,CAAuCC,MAAvC,EAAuDC,UAAvD,EAAiG;EACrG,IAAMC,cAAc,GAAsB,SAApCA,cAAcA,CAAuBC,EAAD,EAAKC,EAAL;IAAA,OAAY,EAAtD;EAAA;EAEA,IAAI,OAAOC,IAAP,KAAgB,WAAhB,IAA+B,OAAOA,IAAI,CAACC,cAAZ,KAA+B,WAAlE,EAA+E;IAC7E,OAAOJ,cAAP;EACD;EAED,OAAO,UAAChH,SAAD,EAAYqH,MAAZ,EAAqB;IAC1B,IAAI;MACF,IAAMC,aAAa,GAAG,IAAIH,IAAI,CAACC,cAAT,CAAwBN,MAAM,IAAI3E,SAAlC,EAA6C4E,UAAU,CAAC/G,SAAD,EAAYqH,MAAZ,CAAvD,CAAtB;MAEA,OAAOC,aAAa,CAACC,MAAd,CAAqBxB,eAAe,CAAC/F,SAAD,CAApC,CAAP;IACD,CAJD,CAIE,OAAOwH,CAAP,EAAU;MACV,OAAO,EAAP;IACD;EACF,CARD;AASD"},"metadata":{},"sourceType":"module","externalDependencies":[]}